(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{33:function(e,n,t){e.exports=t.p+"static/media/Rolling-1.2s-184px.f6b49911.gif"},36:function(e,n,t){e.exports=t(65)},41:function(e,n,t){},65:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(26),c=t.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(4),s=(t(41),t(1)),l=t.n(s),u=t(7),p=function(){return m()?{access_token:localStorage.getItem("access_token"),token_type:localStorage.getItem("token_type")}:(localStorage.removeItem("access_token"),localStorage.removeItem("token_type"),localStorage.removeItem("expires_in"),localStorage.removeItem("expires_at"),console.log("removesession"),{})},d=function(){return localStorage.getItem("device_id")},m=function(){var e=JSON.parse(localStorage.getItem("expires_at"));return e&&(new Date).valueOf()<e},f=function(e,n){var t=n.indexOf(e),a=[],r=[],i=!1;return n.forEach((function(e,n){n===t&&(i=!0),i?r.includes(e)||r.push(e):a.push(e)})),a.forEach((function(e){r.push(e)})),r},g=function(e){var n=Math.floor(e/6e4),t=(e%6e4/1e3).toFixed(0);return"".concat(n,":").concat(t<10?"0":"").concat(t)},h=t(27),b=t(28),y=t(35),v=t(34),x=t(2),k=t(29),w=t.n(k),E=t(3),j=t(6),O=t.n(j),N=function(){return O.a.get("https://api.spotify.com/v1/me",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CA";return O.a.get("https://api.spotify.com/v1/browse/featured-playlists?country="+e+"&limit=8",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},z=function(){return O.a.get("https://api.spotify.com/v1/me/player/recently-played",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},S=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/albums/"+n[n.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},B=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/".concat(n[n.length-1],"/albums"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},C=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/".concat(n[n.length-1],"/images"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},T=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/".concat(n[n.length-1],"/tracks"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},P=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/"+n[n.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},A=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/".concat(n[n.length-1],"/top-tracks?country=BR"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},U=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/"+n[n.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},I=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/"+n[n.length-1]+"/related-artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BR";return O.a.get("https://api.spotify.com/v1/browse/new-releases?country="+e+"&limit=10",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})};function R(){var e=Object(x.a)(["\n    @font-face {\n        font-family: 'Cooper Black';\n        src: url(",'/assets/cooper_black.ttf);\n    }\n\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    font-family: "Cooper Black";\n    background: rgba(28,28,28);\n    border: 2em solid #ffffff;\n    color: #fff;\n    overflow: none;\n    height: 100vh;\n    text-align: center;\n\n    .title {\n        padding: 20px;\n        font-size: 2em;\n        p {\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        border: 1px solid #ffffff;\n        font-size: 17px;\n        color: #ffffff;\n    }\n']);return R=function(){return e},e}var L=E.a.div(R(),"."),D=function(e){Object(y.a)(t,e);var n=Object(v.a)(t);function t(){return Object(h.a)(this,t),n.apply(this,arguments)}return Object(b.a)(t,[{key:"onSuccess",value:function(e){this.props.onLogin(e)}},{key:"onFailure",value:function(e){throw new Error(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(L,{style:{backgroundImage:"url('".concat(".","/assets/background.jpg')"),backgroundSize:"cover"}},r.a.createElement("div",{className:"login container"},r.a.createElement(w.a,{className:"btn",clientId:"38a9d82012ce4dcc81269de4479a74fa",redirectUri:"https://kenjikatahira.github.io/react-spotify-player/",onSuccess:function(n){e.onSuccess(n)},onFailure:this.onFailure,scope:"user-read-private user-library-read user-read-playback-state user-read-playback-position user-modify-playback-state user-top-read user-read-recently-played streaming user-read-email user-follow-read"})))}}]),t}(r.a.Component),J=t(15),H=function(e){try{fetch("https://api.spotify.com/v1/me/player/previous",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})}catch(n){Z({uri:e})}},M=function(){fetch("https://api.spotify.com/v1/me/player/next",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})},K=function(){fetch("https://api.spotify.com/v1/me/player/pause",{method:"PUT",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})},Y=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(d()),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.uri,a=n.uris,r=f(t,(a||[]).map((function(e){return e.uri}))),fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(d()),{method:"PUT",body:JSON.stringify({uris:r.length?r:[t]}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){console.log("____init___");var e=new window.Spotify.Player({playerInstance:new window.Spotify.Player({name:"Kenjicas Player"}),name:"Kenjicas Player",getOAuthToken:function(e){return e(p().access_token)}});return e.play=Z,e.next=M,e.previous=H,e.pause=K,e.resume=Y,e},$=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"!==(t=n.uri)){e.next=7;break}return e.next=4,q();case 4:a=e.sent,e.next=53;break;case 7:if("browse"!==t){e.next=13;break}return e.next=10,V({uri:t});case 10:a=e.sent,e.next=53;break;case 13:if("featured-playlists-countries"!==t){e.next=19;break}return e.next=16,G();case 16:a=e.sent,e.next=53;break;case 19:if("liked-songs"!==t){e.next=25;break}return e.next=22,Q();case 22:a=e.sent,e.next=53;break;case 25:if("recently-played"!==t){e.next=31;break}return e.next=28,re();case 28:a=e.sent,e.next=53;break;case 31:if(!(t.indexOf("spotify:album")>=0)){e.next=37;break}return e.next=34,ne(t);case 34:a=e.sent,e.next=53;break;case 37:if(!(t.indexOf("spotify:playlist")>=0)){e.next=43;break}return e.next=40,ee(t);case 40:a=e.sent,e.next=53;break;case 43:if(!(t.indexOf("spotify:artist")>=0)){e.next=49;break}return e.next=46,te(t);case 46:a=e.sent,e.next=53;break;case 49:if("artists-list"!==t){e.next=53;break}return e.next=52,ie(t);case 52:a=e.sent;case 53:return e.abrupt("return",a);case 54:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r,i,c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.uri,a=n.country,e.prev=1,r=[F(a)],e.next=5,Promise.all(Object.values(r));case 5:return i=e.sent,c=Object(o.a)(i,1),s=c[0].data,s=Object.values(s)[0],u=function(e){return{type:t,message:"New Releases",items:e.items}},e.abrupt("return",{type:"browse",grid:{newReleases:u(s)}});case 13:throw e.prev=13,e.t0=e.catch(1),new Error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t,a,r,i,c,s,u,d,m,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[z(),N(),O.a.get("https://api.spotify.com/v1/me/top/artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})],e.next=4,Promise.all(Object.values(n));case 4:return t=e.sent,a=Object(o.a)(t,3),r=a[0].data,i=a[1].data,c=a[2].data,e.next=11,_(i.country);case 11:return s=e.sent,u=s.data,d=function(e){var n=[],t=e.items.map((function(e){return e.track.album}));return t=t.filter((function(e){return!n.includes(e.id)&&(n.push(e.id),e)})),{href:e.href,message:"Recently Played",items:t,type:"recently-played"}},m=function(e){return{message:e.message,items:e.playlists.items,type:"playlists"}},f=function(e){return{message:"Top Artists",items:e.items,type:"top-artists"}},e.abrupt("return",{type:"home",grid:{featuredPlaylists:m(u),top_artists:f(c),recentlyTracks:d(r)}});case 19:throw e.prev=19,e.t0=e.catch(0),new Error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=["NZ","CH","CA","US","IT","FR","JP","RU","IS"],t=(t=["NZ","CH","CA","US","IT","FR","JP","RU","IS"]).map(function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=6,Promise.all(t);case 6:return a=e.sent,r=function(e){var t={BR:"Brasil",CH:"Chile",CA:"Canada",US:"United States",RU:"Russia",IT:"Italy",JP:"Japan",NZ:"New Zealand"};return e.map((function(e,a){var r=e.data;return{message:"".concat(r.message," ").concat(t[n[a]]?" - "+t[n[a]]:""),items:r.playlists.items,type:"playlists"}}))},e.abrupt("return",{type:"home",grid:r(a)});case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me/tracks?limit=30",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return n=e.sent,t=n.data,a=function(e){var n=e.items.map((function(e){return e.track}));return{savedTracks:{message:"Saved Tracks",type:"saved-tracks",items:n=n.map((function(e){return{images:e.album.images,name:e.name,uri:e.uri,album:{uri:e.album.uri},artists:e.artists}}))}}},e.abrupt("return",{grid:a(t)});case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),X=function(e){if(!e)return!1;var n=e.reduce((function(e,n){return e+n.duration_ms}),0);return g(Math.floor(n/60))},ee=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r,i,c,s,u,p,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},a={playlist:T({uri:n}),playlistInfo:P({uri:n}),playlistCover:C({uri:n})},e.next=5,Promise.all(Object.values(a));case 5:return r=e.sent,i=Object(o.a)(r,3),c=i[0],s=i[1],u=i[2],p=Object(o.a)(u.data,1),d=p[0],t.tracks=c.data.items.map((function(e){return e.track})).filter((function(e){return e})),m=function(e){return{head:["name","artist","album","duration"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:g(e.duration_ms),album:e.album,artists:e.artists,uri:e.uri}}))}},e.abrupt("return",{type:"playlist",header:{type:"playlist",name:s.data.name,image:d,tracks:m(t).body,total_duration:X(t.tracks),owner:s.data.owner,followers:s.data.followers.total,description:s.data.description,public:s.data.public},table:m(t)});case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r,i,c,s,u,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S({uri:n});case 3:return t=e.sent,a=t.data,e.next=7,B({uri:a.artists[0].uri});case 7:return r=e.sent,i=r.data,c=Object(o.a)(a.images,1),s=c[0],u=function(e){return{head:["name","artist","duration"],body:e.tracks.items.map((function(e){return{id:e.id,name:e.name,duration_ms:g(e.duration_ms),uri:e.uri,artists:e.artists}}))}},p=function(e){var n=[],t={},r={message:"More by "+a.artists[0].name,type:"artist",items:e.items.filter((function(e,t){return!n.includes(e.name)&&"album"===e.album_type&&e.id!==a.id&&t<=4&&(n.push(e.name),!0)}))};return r.items.length&&(t._albums=r),t},e.abrupt("return",{type:"album",releaseDate:a.release_date.replace(/(\d{4})-\d{2}-\d{2}/g,"$1"),label:a.label,header:{type:"album",artists:a.artists,name:a.name,image:s,tracks:u(a).body,total_duration:X(a.tracks.items),releaseDate:a.release_date.replace(/(\d{4})-\d{2}-\d{2}/g,"$1")},table:u(a),grid:p(i)});case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r,i,c,s,u,p,d,m,f,h,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,U({uri:n});case 4:return a=e.sent,r=a.data,e.next=8,A({uri:n});case 8:return i=e.sent,c=i.data,e.next=12,B({uri:n});case 12:return s=e.sent,u=s.data,e.next=16,I({uri:n});case 16:return p=e.sent,d=p.data,m=Object(o.a)(r.images,1),f=m[0],t.tracks||(t.tracks=c.tracks),h=function(e){var n=[],t={},a={message:"Albums",type:"artist",items:e.items.filter((function(e){return!n.includes(e.name)&&"album"===e.album_type&&(n.push(e.name),!0)}))},r={message:"Singles",type:"artist",items:e.items.filter((function(e){return!n.includes(e.name)&&"single"===e.album_type&&(n.push(e.name),!0)}))};return a.items.length&&(t._albums=a),r.items.length&&(t._singles=r),t},b=function(e){return{head:["Popular"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:g(e.duration_ms),uri:e.uri}}))}},e.abrupt("return",{type:"artist",header:{type:"artist",name:r.name,image:f,tracks:b(t).body},table:b(t),grid:h(u),relatedArtists:d});case 25:e.prev=25,e.t0=e.catch(0),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me/playlists?limit=20&offset=0",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return n=e.sent,t=n.data,e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:return n=e.sent,t=n.data,a=function(e){var n=[],t=e.items.map((function(e){return e.track.album}));return t=t.filter((function(e){return!n.includes(e.id)&&(n.push(e.id),e)})),{href:e.href,message:"Recently Played",items:t,type:"recently-played"}},e.abrupt("return",{grid:{recently:a(t)}});case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me/following?type=artist&limit=20",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return t=e.sent,a=t.data,r=function(e){var t=Object.values(e)[0];return{following:{type:n,message:"Your Artists",items:t.items}}},e.abrupt("return",{grid:r(a)});case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:return n=e.sent,t=n.data,e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),oe=function(e){return r.a.createElement("svg",{viewBox:"0 0 1134 340",className:"spotify-logo"},r.a.createElement("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"}))};function se(){var e=Object(x.a)(['\n    list-style: none;\n    padding: 15px;\n    white-space: nowrap;\n    color : #B3B3B3;\n    background: #000;\n\n    .logo-wrapper {\n        display:flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        .spotify-logo {\n            width:120px;\n            padding-right: 0;\n            padding-left:5px;\n            display:inline-block;\n            color:#fff;\n            align-self: center;\n        }\n\n        .made {\n            padding: 10px 0;\n            margin-left: 5px;\n            align-self: center;\n            font-size: 14px;\n            text-align: center;\n        }\n    }\n\n    .fixed-pages {\n        position: sticky;\n\n        li {\n            padding: 0;\n            margin-bottom: 15px;\n            font-size: 14px;\n            font-weight: 700;\n            svg {\n                margin-right: 10px;\n                font-weight: 500;\n                font-size: 18px;\n            }\n        }\n    }\n\n    hr   {\n        display: block;\n        unicode-bidi: isolate;\n        margin-block-start: 0.9em;\n        margin-block-end: 0.9em;\n        margin-inline-start: auto;\n        margin-inline-end: auto;\n        background: #282828;\n    }\n\n    li {\n        position:relative;\n        padding: 0;\n        cursor: pointer;\n        font-size: 13px;\n        font-weight: 800;\n        margin-bottom: 8px;\n\n        &.lead {\n            margin-bottom: 0;\n            font-size: 14px;\n            font-weight: 100;\n            text-transform: uppercase;\n            margin-bottom: 10px;\n        }\n\n        &.active:before {\n            content : "";\n            border-left: 3px solid #1db954;\n            position: absolute;\n            height: 17px;\n            left: -8px;\n            top: 0;\n        }\n\n        &:hover:after {\n                content: attr(data-owner);\n                position: relative;\n                height:10px;\n                font-size: 12px;\n                left: 0px;\n                color: #ccc;\n                white-space: nowrap;\n        }\n    }\n']);return se=function(){return e},e}var le=E.a.ul(se()),ue=[{name:"Home",uri:"home",icon:r.a.createElement("i",{key:"home",className:"fas fa-home"},"home")},{name:"Browse",uri:"browse",icon:r.a.createElement("i",{key:"browse",className:"fa fa-folder-open","aria-hidden":"true"})},{el:r.a.createElement("li",{key:"your-library",className:"lead"}," Your Library ")},{name:"Recently Played",uri:"recently-played"},{name:"Countries",uri:"featured-playlists-countries"},{name:"Liked Songs",uri:"liked-songs"},{name:"Artists",uri:"artists-list"},{el:r.a.createElement("hr",{key:"sep",className:"separator"})},{el:r.a.createElement("li",{key:"lead-playlists",className:"lead"}," Playlists ")}],pe=function(e){var n=e.uri,t=e.setUri,i=Object(a.useState)(null),c=Object(o.a)(i,2),s=c[0],l=c[1];Object(a.useEffect)((function(){s||ae().then(l)}),[s]);var u=function(e,a){var i=((e||{}).owner||{}).display_name;return e.el?e.el:r.a.createElement("li",{key:e.uri+"#"+a,className:n===e.uri?"active":"","data-owner":i?" * by ".concat(i):"",id:e.uri,onClick:function(){return t(e.uri)}},e.icon?e.icon:""," ",e.name)};return((s||{}).items||[]).length?r.a.createElement(le,{className:"menu"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(oe,null),r.a.createElement("span",{className:"made"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kenjikatahira/react-spotify-player/"},"github"))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"fixed-pages"},ue.map((function(e){return u(e)}))),r.a.createElement("div",{className:"playlists-wrapper"},s.items.map((function(e){return u(e)})))):r.a.createElement(le,{className:"menu"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(oe,null),r.a.createElement("span",{className:"made"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kenjikatahira/react-spotify-player/"},"github"))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"fixed-pages"},ue.map((function(e){return u(e)}))))},de=t(9);function me(){var e=Object(x.a)(['\n    display: grid;\n    grid-template-columns: 33%;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main";\n\n    text-align: center;\n    font-size: 13px;\n    height:8vh;\n\n    .image {\n        grid-area: sidebar;\n        align-self: center;\n        img {\n            height:8vh;\n            padding: 6px;\n        }\n    }\n\n    .info {\n        grid-area: main;\n        align-self: center;\n        justify-self: start;\n        white-space: nowrap;\n        .playing-artist {\n            text-align: left;\n            color: #999;\n        }\n    }\n']);return me=function(){return e},e}var fe=E.a.div(me()),ge=function(e){var n=e.currentTrack,t=((((n||{}).album||{}).images||[])[0]||{}).url,a=(n||{}).name,i=(((n||{}).artists||[])[0]||{}).name;return r.a.createElement(fe,{className:"now-playing-info"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t,alt:t})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"track"},r.a.createElement("b",null,a)),r.a.createElement("div",{className:"playing-artist"},i)))};function he(){var e=Object(x.a)(["\n    text-align: center;\n    font-size: 13px;\n"]);return he=function(){return e},e}var be=E.a.div(he()),ye=function(e){var n=e.count,t=e.fixed;return r.a.createElement(be,{className:"timer"},g(t||n))},ve=function(e){var n=e.currentTrack,t=e.fixed,i=e.onChangePosition,c=n.paused,s=n.position,l=Object(a.useState)({count:s||0,currentTrack:n}),u=Object(o.a)(l,2),p=u[0],d=u[1];(n||{}).id!==(p.currentTrack||{}).id&&d({count:0,currentTrack:n});var m=function(e){({start:function(){return setTimeout((function(){d({count:p.count+1e3,currentTrack:n}),i(p.count)}),1e3)},stop:function(){({}).start&&clearTimeout((void 0).start)}})[e]()};return Object(a.useEffect)((function(){c||void 0===s?c&&m("stop"):m("start")})),r.a.createElement(ye,{count:p.count,fixed:t})};function xe(){var e=Object(x.a)(['\n    background-color: #282828;\n    border-top: 1px solid #000;\n    display: grid;\n    grid-template-columns: 20%;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main ."\n      "footer footer footer footer";\n\n    .playing-wrapper {\n        grid-area: sidebar;\n    }\n    .inner-now-playing {\n        grid-area: main;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        .controls-buttons {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-around;\n            align-self: center;\n            width: 150px;\n\n            .control-button {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: #b3b3b3;\n                position: relative;\n                width: 32px;\n                min-width: 32px;\n                height: 32px;\n\n                &.play,&.pause {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    border: 1px solid #b3b3b3;\n                    border-radius: 32px;\n                    svg {\n                        position: relative;\n                    }\n                }\n\n                &.play {\n                    svg {\n                        height: 15px;\n                        width: 15px;\n                    }\n                }\n\n                &.pause {\n                    svg {\n                        height: 15px;\n                        width: 15px;\n                    }\n                }\n            }\n        }\n\n        .playback-bar {\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            width: 45%;\n            max-width: 722px;\n            align-self: center;\n            align-items: center;\n\n            .playback-progress-bar {\n                width: 100%;\n                margin: 0 10px;\n                background-color:#1a1a1a;\n                .progress-bar-inner {\n                    background-color: #b3b3b3;\n                    border-radius: 2px;\n                    height: 4px;\n                    width: 0;\n                }\n            }\n        }\n    }\n']);return xe=function(){return e},e}var ke=E.a.div(xe()),we=function(e){var n=e.player,t=e.currentTrack,i=Object(a.useState)(0),c=Object(o.a)(i,2),s=c[0],l=c[1];return 0===Object.keys(n||{}).length?r.a.createElement("div",{className:"now-playing"}):r.a.createElement(ke,{className:"now-playing"},r.a.createElement("div",{className:"playing-wrapper"},r.a.createElement(ge,{currentTrack:t})),r.a.createElement("div",{className:"inner-now-playing"},r.a.createElement("div",{className:"controls-buttons"},r.a.createElement("button",{className:"btn control-button",onClick:n.prev},r.a.createElement(de.a,{icon:"backward"})),((t||{}).disallows||{}).resuming?r.a.createElement("button",{className:"btn btn-outline-secondary control-button pause",onClick:n.pause},r.a.createElement(de.a,{icon:"pause"})):r.a.createElement("button",{className:"btn btn-outline-secondary control-button play",onClick:function(){n.resume()}},r.a.createElement(de.a,{icon:"play"})),r.a.createElement("button",{className:"btn control-button",onClick:n.next},r.a.createElement(de.a,{icon:"forward"}))),r.a.createElement("div",{className:"playback-bar"},r.a.createElement(ve,{currentTrack:t||{},onChangePosition:function(e){return l(Math.floor(100*e/(t||{}).duration_ms))}}),r.a.createElement("div",{className:"playback-progress-bar"},r.a.createElement("div",{className:"progress-bar-inner",style:{width:s+"%"}})),(t||{}).duration_ms&&r.a.createElement(ye,{fixed:(t||{}).duration_ms}))))},Ee=t(33),je=t.n(Ee),Oe=function(){return r.a.createElement("img",{src:je.a,alt:"loading"})};function Ne(){var e=Object(x.a)(["\n    position: relative;\n    display: grid;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    font-size: 28px;\n    height: 92vh;\n    img {\n        width: 90px;\n    }\n"]);return Ne=function(){return e},e}var _e=E.a.div(Ne()),ze=function(){return r.a.createElement(_e,null,r.a.createElement("div",{className:"loading"},r.a.createElement(Oe,null)))};function Se(){var e=Object(x.a)(["\n    padding: 0 32px 24px;\n    .filter {\n        padding: 3px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n            background: inherit;\n            border-style: none;\n            color: #f5f5f5;\n        }\n    }\n    .toggleShow {\n        padding: 16px;\n        background: none;\n        border: none;\n        color: hsla(0,0%,100%,.7);\n    }\n    .copyright {\n        margin: 15px 0;\n        color: #aaa;\n    }\n    table {\n        list-style: none;\n        margin: 0;\n        padding: 10px;\n        color: #f5f5f5;\n\n        th {\n            color: #d1d1d1;\n            font-size: 13px;\n            text-transform: uppercase;\n            border-top: none;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            &:fist-child {\n                width: 30px;\n            }\n        }\n\n        tr {\n            &:not(.header):hover td {\n                background: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        td {\n            &:nth-child(1) {\n                width: 20px;\n            }\n            &:last-child {\n                width: 80px;\n                text-align: center;\n            }\n        }\n\n        tr,\n        td {\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            cursor: pointer;\n            padding: 8px;\n            white-space: nowrap;\n            max-width: 220px;\n            overflow: hidden;\n\n            &:hover {\n                .action {\n                    visibility: visible;\n                }\n            }\n\n            .action {\n                border: 1px solid #fff;\n                padding: 5px;\n                width: 20px;\n                height: 20px;\n                border-radius: 100%;\n                visibility: hidden;\n\n                &.selected {\n                    visibility: visible;\n                }\n            }\n\n            span.link:hover {\n                border-bottom: 1px solid #fff;\n            }\n        }\n    }\n"]);return Se=function(){return e},e}var Be=E.a.div(Se()),Ce=function(e){var n=e.table,t=e.player,i=e.limit,c=e.setUri,s=e.copyright,l=e.currentTrack,u=Object(a.useState)(i||null),p=Object(o.a)(u,2),d=p[0],m=p[1],f=Object(a.useState)([]),g=Object(o.a)(f,2),h=g[0],b=g[1],y=function(e,a){return r.a.createElement("tr",{key:e.id+"#"+a,onClick:function(){t.play({uri:e.uri,uris:n.body})}},r.a.createElement("td",null,r.a.createElement("span",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e===(l||{}).uri?r.a.createElement(de.a,{className:"action selected",icon:"pause"}):r.a.createElement(de.a,{className:"action",icon:"play"})}(e.uri))),e.name&&r.a.createElement("td",null,r.a.createElement("span",null,e.name)),e.artists&&r.a.createElement("td",null,r.a.createElement("span",{className:"link"},e.artists&&Object.values(e.artists).map((function(n,t){return function(e){var n=e.artist,t=e.total,a=e.index,i=n.id,o=n.uri,s=n.name;return r.a.createElement("span",{key:i+"#"+a,onClick:function(e){e.stopPropagation(),c(o)}},t>1&&a!==t-1?"".concat(s,", "):s)}({artist:n,total:(e.artists||[]).length,index:t})})))),e.album&&r.a.createElement("td",null,r.a.createElement("span",{className:"link",onClick:function(n){return function(e,n){e.stopPropagation(),c(n.album.uri)}(n,e)}}," ",e.album.name," ")),e.duration_ms&&r.a.createElement("td",null,r.a.createElement("span",null," ",e.duration_ms," ")))};return r.a.createElement(Be,{className:"tracklist"},r.a.createElement("div",{className:"filter"},r.a.createElement("input",{type:"text",placeholder:"Filter",onChange:function(e){!function(e){b(n.body.filter((function(n){return n.name.toLowerCase().replace("\xe3","a").indexOf(e.target.value.toLowerCase())>-1})))}(e)}})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"header"},r.a.createElement("th",{scope:"col"}),n.head.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,((h||[]).length>0?h:n.body).map((function(e,n){return d?n<+d&&y(e,n):y(e,n)})))),d&&r.a.createElement("button",{className:"toggleShow",onClick:function(){m(5===+d?10:5)}},"show ",5===+d?"more":"less"),s&&r.a.createElement("div",{className:"copyright"},s))};function Te(){var e=Object(x.a)(['\n        padding: 15px 32px;\n        margin-bottom: 15px;\n        display: flex;\n        align-items: center;\n        .artwork-wrapper {\n            overflow: auto;\n            width: 300px;\n            .artwork {\n                width: 100%;\n                padding-bottom: 100%;\n            }\n        }\n\n        .info {\n            align-self: flex-end;\n            padding: 0 25px;\n            p { margin: 0; }\n            .info-type {\n                position: relative;\n                top: 5px;\n                text-transform: uppercase;\n                font-weight: 500;\n                font-size: 15px;\n            }\n            .info-name {\n                font-size: 64px;\n                line-height: 64px;\n                padding: 0.08em 0px;\n                font-weight: 600;\n                margin-bottom: 0;\n            }\n            .info-description {\n                max-width: 500px;\n            }\n            .info-details {\n                padding: 1px 0px 13px;\n                color:#aaa;\n            }\n            .info-tracks {\n                margin-right: 4px;\n            }\n            .info-owner {\n                strong { color:#fff; }\n                &:after {\n                    content: "\u2022";\n                    margin: 0px 4px;\n                }\n            }\n            .info-release-date {\n                &:after {\n                    content: "\u2022";\n                    margin: 0px 4px;\n                }\n            }\n            .info-artist {\n                display: block;\n                strong { color:#fff; }\n                &:after {\n                    padding: 0 6px;\n                }\n            }\n        }\n\n        .info-interactive {\n            .play {\n                cursor: pointer;\n                background: #1DB954;\n                border-radius: 15px;\n                font-size: 11px;\n                letter-spacing: 2px;\n                font-weight: bold;\n                width: 106px;\n                padding: 4px;\n                text-align: center;\n            }\n        }\n']);return Te=function(){return e},e}var Pe=E.a.div(Te()),Ae=function(e){var n,t=e.player,a=e.header,i=a.tracks,c=a.image,o=a.name,s=a.description,l=a.owner,u=a.total_duration,p=a.type;return r.a.createElement(Pe,{className:"tracklist-header"},c&&c.url&&r.a.createElement("div",{className:"artwork-wrapper"},r.a.createElement("div",{className:"artwork",style:{backgroundImage:"url(".concat(c.url,")"),backgroundSize:"cover",backgroundPosition:"center center"}})),r.a.createElement("div",{className:"col info d-flex flex-column"},r.a.createElement("strong",{className:"info-type"},p),r.a.createElement("h3",{className:"info-name"},o),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}}))}(s),r.a.createElement("div",{className:"info-details"},(l||{}).display_name&&r.a.createElement("span",{className:"info-owner"},"Created by ",r.a.createElement("strong",null,(l||{}).display_name)),"album"===p&&a.artists.length&&r.a.createElement("span",{className:"info-artist"},"By ",r.a.createElement("strong",null,(a.artists||[])[0].name)),"album"===p&&(n=(a||{}).releaseDate,r.a.createElement("span",{className:"info-release-date"},n)),"artist"!==p&&function(e){return r.a.createElement("span",{className:"info-tracks"},"".concat((e||[]).length," songs"))}(i),"artist"!==p&&u&&function(e){return r.a.createElement("span",{className:"info-duration"},"- ".concat(e," hrs"))}(u)),r.a.createElement("div",{className:"info-interactive"},r.a.createElement("div",{className:"play",onClick:function(){t.play({uris:i||[]})}}," PLAY "))))};function Ue(){var e=Object(x.a)(["\n"]);return Ue=function(){return e},e}var Ie=E.a.div(Ue()),Fe=function(){var e=Object(a.useContext)(ln),n=e.uri,t=e.setUri,i=e.player,c=e.setTopBar,s=e.currentTrack,l=Object(a.useState)(null),u=Object(o.a)(l,2),p=u[0],d=u[1];if(Object(a.useEffect)((function(){p?c(p.header.name):$({uri:n}).then(d)}),[p,n,c]),Object(a.useEffect)((function(){d(null)}),[n]),p){var m=p.table,f=p.header;return r.a.createElement(Ie,{className:"playlist"},r.a.createElement(Ae,{player:i,header:f}),r.a.createElement(Ce,{table:m,setUri:t,player:i,currentTrack:s}))}return r.a.createElement(ze,null)};function Re(){var e=Object(x.a)(["\n    width:90%;\n    margin:0 auto;\n\n    h2 {\n        margin: 26px 15px;\n        border-bottom: 1px solid #ffffff1a;\n        padding-bottom: 17px;\n    }\n\n    .albums-row {\n        display: flex;\n        flex-direction: row;\n        flex-flow: row wrap;\n        width: 100%;\n        padding: 10px 0;\n        margin-bottom: 25px;\n        padding: 10px;\n        overflow: auto;\n        max-width: 100%;\n        .album {\n            position: relative;\n            padding-right: 10px;\n            padding-left: 10px;\n            cursor: pointer;\n            .image {\n                width: 100%;\n                padding-bottom: 100%;\n            }\n            .card-title {\n                font-size: 14px;\n            }\n            .card-body {\n                padding: 10px 0;\n            }\n            .card-body .card-text {\n                display : block;\n                font-weight: bold;\n                font-size:13px;\n                padding: 0;\n                margin: 0;\n            }\n            .overlay {\n                position: absolute;\n                bottom:0;\n                left:0;\n                right:0;\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n                opacity: 0;\n                margin-bottom:50%;\n            }\n            &:hover .overlay {\n                opacity: 1;\n            }\n        }\n    }\n"]);return Re=function(){return e},e}var Le=E.a.div(Re()),De=function(e){var n=e.grid,t=e.player,a=e.setUri,i=function(e){var n=e.images,i=e.uri,c=e.id,o=e.name,s=e.artists;return r.a.createElement("div",{className:"album col-xs-12 col-sm-6 col-md-4 col-lg-3",key:c},r.a.createElement("div",{className:"image",onClick:function(){-1!==i.indexOf("spotify:track")?t.play({uri:i}):a(i)},style:{backgroundImage:"url(".concat(n.length&&n[0].url,")"),backgroundSize:"cover",backgroundPosition:"center center"}}),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},s&&s[0].name),r.a.createElement("p",{className:"card-title"},o)))};return r.a.createElement(Le,{className:"grid"},Object.values(n||{}).map((function(e){var n=e.message,t=e.type,a=e.items;if(a)return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("h2",null," ",n," "),r.a.createElement("div",{className:"albums-row",key:t},a.map(i)))})))},Je=function(){var e=Object(a.useContext)(ln),n=e.uri,t=e.player,i=e.setUri,c=e.setTopBar,s=Object(a.useState)(null),l=Object(o.a)(s,2),u=l[0],p=l[1];if(Object(a.useEffect)((function(){u?c(u.header.name):$({uri:n}).then(p)}),[u,n,c]),Object(a.useEffect)((function(){p(null)}),[n]),u){var d=u.table,m=u.header,f=u.label,g=u.releaseDate,h=u.grid;return r.a.createElement("div",{className:"album"},r.a.createElement(Ae,{player:t,header:m}),r.a.createElement(Ce,{table:d,setUri:i,player:t,copyright:"\xa9 ".concat(g," ").concat(f)}),r.a.createElement(De,{grid:h,setUri:i,player:t}))}return r.a.createElement(ze,null)};function He(){var e=Object(x.a)(["\n    padding: 15px 0;\n    ul {\n        padding: 0;\n        li {\n            display: flex;\n            flex-direction: row;\n            align-items : center;\n            list-style:none;\n            height: 50px;\n            cursor: pointer;\n            .image {\n                height:30px;\n                width: 30px;\n                border-radius: 50%;\n            }\n            .name {\n                padding-left: 10px;\n            }\n        }\n    }\n"]);return He=function(){return e},e}var Me=E.a.div(He()),Ke=function(e){var n=e.setUri,t=e.relatedArtists;return r.a.createElement(Me,{className:"relatedArtists"},r.a.createElement("h4",null,"Fans Also Like"),r.a.createElement("ul",null,t.artists.filter((function(e,n){return n<6})).map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return n(e.uri)}},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(e.images[2].url,")"),backgroundSize:"cover",backgroundPosition:"center center"}}),r.a.createElement("div",{className:"name"},e.name))}))))};function Ye(){var e=Object(x.a)(['\n    padding: 20px 0;\n    .container {\n        margin-left: 20px;\n    }\n    .artist-top-related {\n        display: grid;\n        grid-template-columns: 14vw;\n        grid-template-rows: auto;\n        grid-template-areas:\n          "topTracks topTracks topTracks topTracks topTracks related";\n    }\n    .tracklist {\n        grid-area : topTracks;\n        padding: 15px 32px;\n    }\n    .related-artists {\n        grid-area : related;\n        padding: 0 5px 24px;\n    }\n']);return Ye=function(){return e},e}var Ze=E.a.div(Ye()),We=function(){var e=Object(a.useContext)(ln),n=e.uri,t=e.setUri,i=e.player,c=e.setTopBar,s=Object(a.useState)(null),l=Object(o.a)(s,2),u=l[0],p=l[1];if(Object(a.useEffect)((function(){u?c(u.header.name):$({uri:n}).then(p)}),[u,n,c]),Object(a.useEffect)((function(){p(null)}),[n]),u){var d=u.table,m=u.header,f=u.relatedArtists,g=u.grid;return r.a.createElement(Ze,{className:"artist"},r.a.createElement(Ae,{header:m,player:i}),r.a.createElement("div",{className:"artist-top-related"},r.a.createElement(Ce,{table:d,limit:"5",player:i,setUri:t}),r.a.createElement(Ke,{relatedArtists:f,setUri:t})),r.a.createElement(De,{grid:g,setUri:t,player:i}))}return r.a.createElement(ze,null)};function $e(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    grid-area : user;\n\n    .avatar {\n        margin-right: 10px;\n        img {\n            border-radius: 50%;\n            width: 28px;\n        }\n    }\n\n    .user {\n        font-size: 15px;\n        line-height: 25px;\n    }\n"]);return $e=function(){return e},e}var Ve=E.a.div($e()),qe=function(){var e=Object(a.useState)(null),n=Object(o.a)(e,2),t=n[0],i=n[1];return Object(a.useEffect)((function(){t||ce().then(i)}),[t]),t?r.a.createElement(Ve,{className:"user-widget"},"premium"!==t.product&&r.a.createElement("div",{class:"alert alert-danger",role:"alert"},"You need a premium account to play the songs. =("),r.a.createElement("div",{className:"avatar"},t.images.length?r.a.createElement("img",{src:t.images[0].url,alt:"userimage"}):""),r.a.createElement("div",{className:"user"},t.display_name)):r.a.createElement("div",null)};function Ge(){var e=Object(x.a)(['\n    width:100%;\n    height:60px;\n    display: grid;\n    grid-template-columns: 14vw;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "search . . . user"\n      "additional-bar additional-bar additional-bar additional-bar additional-bar";\n    position: sticky;\n    top: 0;\n    align-items: center;\n    z-index: 30;\n\n    .search {\n        width: 176px;\n        height: 24px;\n        border-radius: 27px;\n        background: inherit;\n        border-style: none;\n        background-color: #f5f5f5;\n        margin: 16px 20px;\n        z-index: 999;\n    }\n\n    .user-widget {\n        padding: 16px 20px;\n        z-index: 999;\n    }\n\n    .additional-bar {\n        width: 100%;\n        opacity : 0;\n        grid-area: additional-bar;\n        height: 0;\n        border-bottom: 1px solid #333;\n        transition: .3s;\n        padding: 10px 32px;\n        font-weight: bold;\n    }\n\n    &.sticky {\n        animation: mushroom-bottom .4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n        .additional-bar {\n            opacity: 1;\n            background: rgba(0,0,0,1);\n            height: 70px;\n\n            h2 {\n                animation: fade-in .4s cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.4s both;\n            }\n        }\n    }\n\n']);return Ge=function(){return e},e}var Qe=E.a.div(Ge()),Xe=function(e){var n=e.scroll,t=e.title,a=e.setUri,i=function(){a("search")},c=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onKeyPress:i,className:"search",type:"search"}),r.a.createElement(qe,null),r.a.createElement("div",{className:"additional-bar"},r.a.createElement("h2",null,t)))};return n>=300?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,{className:"top-bar sticky",style:{backgroundColor:"rgba(0,0,0,"+100*n/250+"%)"}},c())):r.a.createElement(Qe,{className:"top-bar",style:{backgroundColor:"rgba(0,0,0,"+100*n/250+"%)"}},c())};function en(){var e=Object(x.a)(["\n"]);return en=function(){return e},e}var nn=E.a.div(en()),tn=function(){return r.a.createElement(nn,{className:"search"},"search")},an={home:{title:"Home"},browse:{title:"Browse"},"recently-played":{title:"Recently Played"},Countries:{title:"Countries Featured Playlists"},"liked-songs":{title:"Liked Songs"},"artists-list":{title:"Artists"},"featured-playlists-countries":{title:"Featured Playlists"}};function rn(){var e=Object(x.a)(["\n    width: 90%;\n    margin: 0 auto;\n"]);return rn=function(){return e},e}var cn=E.a.div(rn()),on=function(){var e=Object(a.useContext)(ln),n=e.player,t=e.setUri,i=e.uri,c=e.setTopBar,s=Object(a.useState)(null),l=Object(o.a)(s,2),u=l[0],p=l[1],d=function(e){var n=Object(a.useRef)();return Object(a.useEffect)((function(){n.current=e})),n.current}(i);return Object(a.useEffect)((function(){i!==d?$({uri:i}).then(p):c((an[i]||{}).title||i)}),[i,d,c]),r.a.createElement(cn,{className:i},r.a.createElement(De,{grid:(u||{}).grid,player:n,setUri:t}))};function sn(){var e=Object(x.a)(['\n    display: grid;\n    grid-template-columns: 14vw;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main main main main"\n      "footer footer footer footer footer footer"\n      "devicesBar devicesBar devicesBar devicesBar devicesBar devicesBar";\n    overflow: hidden;\n    font-family: "Lato";\n    color: #F5F5F5;\n    overflow: none;\n\n    a {\n        color: #F5F5F5;\n    }\n\n    .github {\n        position: absolute;\n        top:0;\n        right:0;\n        z-index:1000;\n        width:120px;\n        img {\n            width: 120px;\n            height: 120px;\n        }\n    }\n\n    .search {\n        padding: 8px 69px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n        }\n    }\n\n\n    .menu-wrapper, .browser-wrapper {\n        position: relative;\n        overflow-x: hidden;\n        overflow-y: auto;\n        height: 92vh;\n        background-repeat: no-repeat;\n        background-attachment: local;\n\n        &::-webkit-scrollbar {\n            width: 1em;\n            background: hsla(0,0%,100%,.3);\n        }\n        &::-webkit-scrollbar-thumb {\n            min-height: 30px;\n            max-height: none;\n            background: hsla(0,0%,100%,.3);\n        }\n    }\n\n    .menu-wrapper {\n        grid-area: sidebar;\n        background: #000;\n        justify-content: stretch;\n        &::-webkit-scrollbar {\n            background: #000;\n        }\n    }\n\n    .browser-wrapper {\n        grid-area: main;\n        linear-gradient(0deg, #0c0c0c 0%, #0c0c0c 80%, #0c0c0c 100%)\n        .browser-inner-wrapper {\n            max-width: 100%;\n            margin-bottom: 1em;\n        }\n    }\n\n    .now-playing-wrapper {\n        position: relative;\n        width: 100%;\n        background-color: #282828;\n        grid-area: footer;\n    }\n\n    .devices-bar-wrapper {\n        grid-area: devicesBar;\n    }\n']);return sn=function(){return e},e}var ln=r.a.createContext(),un=E.a.div(sn()),pn=function(){var e=Object(a.useState)(null),n=Object(o.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(localStorage.getItem("lastUri")||"home"),s=Object(o.a)(c,2),l=s[0],u=s[1],p=Object(a.useState)(null),d=Object(o.a)(p,2),m=d[0],f=d[1],g=Object(a.useState)(0),h=Object(o.a)(g,2),b=h[0],y=h[1],v=Object(a.useState)(null),x=Object(o.a)(v,2),k=x[0],w=x[1];Object(a.useEffect)((function(){var e=document.createElement("script");e.src="https://sdk.scdn.co/spotify-player.js",e.async=!0,document.body.appendChild(e)}),[]),Object(a.useEffect)((function(){return u(l),localStorage.setItem("lastUri",l),-1===l.indexOf("playlist")&&-1===l.indexOf("album")&&-1===l.indexOf("artist")&&w(function(e){return{home:"Home","recently-played":"Recently Played"}[e]}(l)),function(){u(null)}}),[l]),Object(a.useEffect)((function(){if(window.onSpotifyWebPlaybackSDKReady=function(){i(W())},t){t.addListener("ready",(function(e){!function(e){console.log("Ready - Device ID - Localstorage",e),localStorage.setItem("device_id",e)}(e.device_id)})),t.addListener("player_state_changed",(function(e){e&&e.track_window?f(Object(J.a)(Object(J.a)({},e.track_window.current_track),e)):console.log(e)})),t.connect()}}),[t]);return r.a.createElement(un,{className:"main"},r.a.createElement("div",{className:"menu-wrapper"},r.a.createElement(pe,{setUri:u,uri:l})),r.a.createElement("div",{className:"browser-wrapper",onScroll:function(e){return y(e.target.scrollTop)}},r.a.createElement(Xe,{scroll:b,title:k,setUri:u}),r.a.createElement(ln.Provider,{value:{uri:l,setUri:u,setTopBar:w,player:t,currentTrack:m}},function(){if(l)return-1!==l.indexOf("spotify:playlist")?r.a.createElement(Fe,null):-1!==l.indexOf("spotify:album")?r.a.createElement(Je,null):-1!==l.indexOf("spotify:artist")?r.a.createElement(We,null):-1!==l.indexOf("search")?r.a.createElement(tn,null):r.a.createElement(on,null)}())),r.a.createElement("div",{className:"now-playing-wrapper"},r.a.createElement(we,{currentTrack:m,player:t})))},dn=function(){var e=Object(a.useState)(!1),n=Object(o.a)(e,2),t=n[0],i=n[1];Object(a.useEffect)((function(){p().access_token&&i(!0)}),[]);return t?r.a.createElement("div",{className:"app"},r.a.createElement(pn,null)):r.a.createElement("div",{className:"app"},r.a.createElement(D,{onLogin:function(e){!function(e){var n=e.access_token,t=e.token_type,a=e.expires_in,r=(new Date).valueOf()+36e5;localStorage.setItem("access_token",n),localStorage.setItem("token_type",t),localStorage.setItem("expires_in",a),localStorage.setItem("expires_at",r),console.log("setsession")}(e),i(!!e.access_token)}}))};c.a.render(r.a.createElement(dn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.8fc1f103.chunk.js.map