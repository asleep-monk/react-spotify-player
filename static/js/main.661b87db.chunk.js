(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{33:function(e,t,n){e.exports=n.p+"static/media/Rolling-1.2s-184px.f6b49911.gif"},36:function(e,t,n){e.exports=n(65)},41:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),c=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(1),s=(n(41),n(2)),l=n.n(s),u=n(7),p=function(){return d()?{access_token:localStorage.getItem("access_token"),token_type:localStorage.getItem("token_type")}:(localStorage.removeItem("access_token"),localStorage.removeItem("token_type"),localStorage.removeItem("expires_in"),localStorage.removeItem("expires_at"),console.log("removesession"),{})},m=function(){return localStorage.getItem("device_id")},d=function(){var e=JSON.parse(localStorage.getItem("expires_at"));return e&&(new Date).valueOf()<e},f=function(e,t){var n=t.indexOf(e),a=[],r=[],i=!1;return t.forEach((function(e,t){t===n&&(i=!0),i?r.includes(e)||r.push(e):a.push(e)})),a.forEach((function(e){r.push(e)})),r},h=function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return"".concat(t,":").concat(n<10?"0":"").concat(n)},g=n(27),b=n(28),y=n(35),v=n(34),x=n(3),k=n(29),w=n.n(k),E=n(4),j=n(6),O=n.n(j),N=function(){return O.a.get("https://api.spotify.com/v1/me",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},_=function(e){var t=e.query,n=e.type,a=e.size;return a=a||8,O.a.get("https://api.spotify.com/v1/search?q=".concat(t,"&type=").concat(n,"&limit=").concat(a),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CA";return O.a.get("https://api.spotify.com/v1/browse/featured-playlists?country="+e+"&limit=8",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},S=function(){return O.a.get("https://api.spotify.com/v1/me/player/recently-played",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},T=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/albums/"+t[t.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},C=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/".concat(t[t.length-1],"/albums"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},B=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/".concat(t[t.length-1],"/images"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},P=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/".concat(t[t.length-1],"/tracks"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},U=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/"+t[t.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},A=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/".concat(t[t.length-1],"/top-tracks?country=BR"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},I=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/"+t[t.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},F=function(e){var t=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/"+t[t.length-1]+"/related-artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BR";return O.a.get("https://api.spotify.com/v1/browse/new-releases?country="+e+"&limit=10",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})};function L(){var e=Object(x.a)(["\n    @font-face {\n        font-family: 'Cooper Black';\n        src: url(","/assets/cooper_black.ttf);\n    }\n    position:relative;\n    display:flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    font-family: \"Cooper Black\";\n    background: rgba(28,28,28);\n    border-radius:20px;\n    color: #fff;\n    overflow: none;\n    margin:0 auto;\n    width:100%;\n    height: 90vh;\n    text-align: center;\n\n    .title {\n        padding: 20px;\n        font-size: 2em;\n        p {\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        border: 1px solid #ffffff;\n        font-size: 17px;\n        color: #ffffff;\n    }\n\n    footer {\n        position: absolute;\n        bottom: 10px;\n        right: 15px;\n        font-family: 'helvetica';\n        font-size: 11px;\n        opacity: 0.7;\n        a {\n            color :#fff;\n        }\n    }\n"]);return L=function(){return e},e}var D=E.a.div(L(),"."),J=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"onSuccess",value:function(e){this.props.onLogin(e)}},{key:"onFailure",value:function(e){throw new Error(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(D,{style:{backgroundImage:"url('".concat(".","/assets/unsplash.jpg')"),backgroundSize:"cover"}},r.a.createElement("div",{className:"login container"},r.a.createElement(w.a,{className:"btn",clientId:"38a9d82012ce4dcc81269de4479a74fa",redirectUri:"https://kenjikatahira.github.io/react-spotify-player/",onSuccess:function(t){e.onSuccess(t)},onFailure:this.onFailure,scope:"user-read-private user-library-read user-read-playback-state user-read-playback-position user-modify-playback-state user-top-read user-read-recently-played streaming user-read-email user-follow-read"})),r.a.createElement("footer",null,r.a.createElement("span",null,"Photo by ",r.a.createElement("a",{href:"https://unsplash.com/@florenciaviadana?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Florencia Viadana")," on ",r.a.createElement("a",{href:"https://unsplash.com/s/photos/vynil?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Unsplash"))))}}]),n}(r.a.Component),M=n(10),H=function(e){try{fetch("https://api.spotify.com/v1/me/player/previous",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})}catch(t){Z({uri:e})}},q=function(){fetch("https://api.spotify.com/v1/me/player/next",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})},K=function(){fetch("https://api.spotify.com/v1/me/player/pause",{method:"PUT",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})},Y=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(m()),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uri,a=t.uris,r=f(n,(a||[]).map((function(e){return e.uri}))),fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(m()),{method:"PUT",body:JSON.stringify({uris:r.length?r:[n]}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){console.log("____init___");var e=new window.Spotify.Player({playerInstance:new window.Spotify.Player({name:"Kenjicas Player"}),name:"Kenjicas Player",getOAuthToken:function(e){return e(p().access_token)}});return e.play=Z,e.next=q,e.previous=H,e.pause=K,e.resume=Y,e},W=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"!==(n=t.uri)){e.next=7;break}return e.next=4,Q();case 4:a=e.sent,e.next=53;break;case 7:if("browse"!==n){e.next=13;break}return e.next=10,G({uri:n});case 10:a=e.sent,e.next=53;break;case 13:if("featured-playlists-countries"!==n){e.next=19;break}return e.next=16,X();case 16:a=e.sent,e.next=53;break;case 19:if("liked-songs"!==n){e.next=25;break}return e.next=22,ee();case 22:a=e.sent,e.next=53;break;case 25:if("recently-played"!==n){e.next=31;break}return e.next=28,ce();case 28:a=e.sent,e.next=53;break;case 31:if(!(n.indexOf("spotify:album")>=0)){e.next=37;break}return e.next=34,ae(n);case 34:a=e.sent,e.next=53;break;case 37:if(!(n.indexOf("spotify:playlist")>=0)){e.next=43;break}return e.next=40,ne(n);case 40:a=e.sent,e.next=53;break;case 43:if(!(n.indexOf("spotify:artist")>=0)){e.next=49;break}return e.next=46,re(n);case 46:a=e.sent,e.next=53;break;case 49:if("artists-list"!==n){e.next=53;break}return e.next=52,oe(n);case 52:a=e.sent;case 53:return e.abrupt("return",a);case 54:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,c,s,u,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.searchTerm,e.prev=1,a=[_({query:n,type:"artist",size:3}),_({query:n,type:"album"}),_({query:n,type:"track",size:4})],e.next=5,Promise.all(Object.values(a));case 5:return r=e.sent,i=Object(o.a)(r,3),c=i[0].data,s=i[1].data,u=i[2].data,p=function(e){var t;return Object.entries(e).forEach((function(e){var n=Object(o.a)(e,2),a=n[0],r=n[1];t={message:a,items:r.items}})),t},e.abrupt("return",{type:"search",grid:{track:p(u),artist:p(c),album:p(s)}});case 14:throw e.prev=14,e.t0=e.catch(1),new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,a=t.country,e.prev=1,r=[R(a)],e.next=5,Promise.all(Object.values(r));case 5:return i=e.sent,c=Object(o.a)(i,1),s=c[0].data,s=Object.values(s)[0],u=function(e){return{type:n,message:"New Releases",items:e.items}},e.abrupt("return",{type:"browse",grid:{newReleases:u(s)}});case 13:throw e.prev=13,e.t0=e.catch(1),new Error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r,i,c,s,u,m,d,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[S(),N(),O.a.get("https://api.spotify.com/v1/me/top/artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})],e.next=4,Promise.all(Object.values(t));case 4:return n=e.sent,a=Object(o.a)(n,3),r=a[0].data,i=a[1].data,c=a[2].data,e.next=11,z(i.country);case 11:return s=e.sent,u=s.data,m=function(e){var t=[],n=e.items.map((function(e){return e.track.album}));return n=n.filter((function(e){return!t.includes(e.id)&&(t.push(e.id),e)})),{href:e.href,message:"Recently Played",items:n,type:"recently-played"}},d=function(e){return{message:e.message,items:e.playlists.items,type:"playlists"}},f=function(e){return{message:"Top Artists",items:e.items,type:"top-artists"}},e.abrupt("return",{type:"home",grid:{featuredPlaylists:d(u),top_artists:f(c),recentlyTracks:m(r)}});case 19:throw e.prev=19,e.t0=e.catch(0),new Error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=["NZ","CH","CA","US","IT","FR","JP","RU","IS"],n=(n=["NZ","CH","CA","US","IT","FR","JP","RU","IS"]).map(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(n);case 6:return a=e.sent,r=function(e){var n={BR:"Brasil",CH:"Chile",CA:"Canada",US:"United States",RU:"Russia",IT:"Italy",JP:"Japan",NZ:"New Zealand"};return e.map((function(e,a){var r=e.data;return{message:"".concat(r.message," ").concat(n[t[a]]?" - "+n[t[a]]:""),items:r.playlists.items,type:"playlists"}}))},e.abrupt("return",{type:"home",grid:r(a)});case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me/tracks?limit=30",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return t=e.sent,n=t.data,a=function(e){var t=e.items.map((function(e){return e.track}));return{savedTracks:{message:"Saved Tracks",type:"saved-tracks",items:t=t.map((function(e){return{images:e.album.images,name:e.name,uri:e.uri,album:{uri:e.album.uri},artists:e.artists}}))}}},e.abrupt("return",{grid:a(n)});case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),te=function(e){if(!e)return!1;var t=e.reduce((function(e,t){return e+t.duration_ms}),0);return h(Math.floor(t/60))},ne=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,c,s,u,p,m,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={},a={playlist:P({uri:t}),playlistInfo:U({uri:t}),playlistCover:B({uri:t})},e.next=5,Promise.all(Object.values(a));case 5:return r=e.sent,i=Object(o.a)(r,3),c=i[0],s=i[1],u=i[2],p=Object(o.a)(u.data,1),m=p[0],n.tracks=c.data.items.map((function(e){return e.track})).filter((function(e){return e})),d=function(e){return{head:["name","artist","album","duration"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:h(e.duration_ms),album:e.album,artists:e.artists,uri:e.uri}}))}},e.abrupt("return",{type:"playlist",header:{type:"playlist",name:s.data.name,image:m,tracks:d(n).body,total_duration:te(n.tracks),owner:s.data.owner,followers:s.data.followers.total,description:s.data.description,public:s.data.public},table:d(n)});case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,c,s,u,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({uri:t});case 3:return n=e.sent,a=n.data,e.next=7,C({uri:a.artists[0].uri});case 7:return r=e.sent,i=r.data,c=Object(o.a)(a.images,1),s=c[0],u=function(e){return{head:["name","artist","duration"],body:e.tracks.items.map((function(e){return{id:e.id,name:e.name,duration_ms:h(e.duration_ms),uri:e.uri,artists:e.artists}}))}},p=function(e){var t=[],n={},r={message:"More by "+a.artists[0].name,type:"artist",items:e.items.filter((function(e,n){return!t.includes(e.name)&&"album"===e.album_type&&e.id!==a.id&&n<=4&&(t.push(e.name),!0)}))};return r.items.length&&(n._albums=r),n},e.abrupt("return",{type:"album",releaseDate:a.release_date.replace(/(\d{4})-\d{2}-\d{2}/g,"$1"),label:a.label,header:{type:"album",artists:a.artists,name:a.name,image:s,tracks:u(a).body,total_duration:te(a.tracks.items),releaseDate:a.release_date.replace(/(\d{4})-\d{2}-\d{2}/g,"$1")},table:u(a),grid:p(i)});case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,c,s,u,p,m,d,f,g,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={},e.next=4,I({uri:t});case 4:return a=e.sent,r=a.data,e.next=8,A({uri:t});case 8:return i=e.sent,c=i.data,e.next=12,C({uri:t});case 12:return s=e.sent,u=s.data,e.next=16,F({uri:t});case 16:return p=e.sent,m=p.data,d=Object(o.a)(r.images,1),f=d[0],n.tracks||(n.tracks=c.tracks),console.log(c),g=function(e){var t=[],n={},a={message:"Albums",type:"artist",items:e.items.filter((function(e){return!t.includes(e.name)&&"album"===e.album_type&&(t.push(e.name),!0)}))},r={message:"Singles",type:"artist",items:e.items.filter((function(e){return!t.includes(e.name)&&"single"===e.album_type&&(t.push(e.name),!0)}))};return a.items.length&&(n._albums=a),r.items.length&&(n._singles=r),n},b=function(e){return{head:["Popular"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:h(e.duration_ms),uri:e.uri,albumImage:e.album.images[2].url}}))}},e.abrupt("return",{type:"artist",header:{type:"artist",name:r.name,image:f,tracks:b(n).body},table:b(n),grid:g(u),relatedArtists:m});case 26:e.prev=26,e.t0=e.catch(0),console.error(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me/playlists?limit=20&offset=0",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:return t=e.sent,n=t.data,a=function(e){var t=[],n=e.items.map((function(e){return e.track.album}));return n=n.filter((function(e){return!t.includes(e.id)&&(t.push(e.id),e)})),{href:e.href,message:"Recently Played",items:n,type:"recently-played"}},e.abrupt("return",{grid:{recently:a(n)}});case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me/following?type=artist&limit=20",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return n=e.sent,a=n.data,r=function(e){var n=Object.values(e)[0];return{following:{type:t,message:"Your Artists",items:n.items}}},e.abrupt("return",{grid:r(a)});case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),le=function(e){return r.a.createElement("svg",{viewBox:"0 0 1134 340",className:"spotify-logo"},r.a.createElement("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"}))};function ue(){var e=Object(x.a)(['\n    list-style: none;\n    padding: 15px;\n    white-space: nowrap;\n    color : #B3B3B3;\n    margin-bottom: 0;\n\n    .logo-wrapper {\n        display:flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        .spotify-logo {\n            width:120px;\n            padding-right: 0;\n            padding-left:5px;\n            display:inline-block;\n            color:#fff;\n            align-self: center;\n        }\n\n        .made {\n            padding: 10px 0;\n            margin-left: 5px;\n            align-self: center;\n            font-size: 12px;\n            text-align: center;\n        }\n    }\n\n    .fixed-pages {\n        position: sticky;\n\n        li {\n            padding: 0;\n            margin-bottom: 15px;\n            font-size: 12px;\n            font-weight: 700;\n            svg {\n                margin-right: 10px;\n                font-weight: 500;\n            }\n        }\n    }\n\n    hr   {\n        display: block;\n        unicode-bidi: isolate;\n        margin-block-start: 0.9em;\n        margin-block-end: 0.9em;\n        margin-inline-start: auto;\n        margin-inline-end: auto;\n        background: #282828;\n    }\n\n    li {\n        position:relative;\n        padding: 0;\n        cursor: pointer;\n        font-size: 11px;\n        font-weight: 800;\n        margin-bottom: 8px;\n\n        &.lead {\n            margin-bottom: 0;\n            font-size: 14px;\n            font-weight: 100;\n            text-transform: uppercase;\n            margin-bottom: 10px;\n        }\n\n        &.active:before {\n            content : "";\n            border-left: 3px solid #1db954;\n            position: absolute;\n            height: 17px;\n            left: -14px;\n            top: 0;\n        }\n\n        &:hover:after {\n                content: attr(data-owner);\n                position: relative;\n                height:10px;\n                left: 0px;\n                color: #ccc;\n                white-space: nowrap;\n        }\n    }\n']);return ue=function(){return e},e}var pe=E.a.ul(ue()),me=[{name:"Home",uri:"home",icon:r.a.createElement("i",{key:"home",className:"fas fa-home"},"home")},{name:"Browse",uri:"browse",icon:r.a.createElement("i",{key:"browse",className:"fa fa-folder-open","aria-hidden":"true"})},{el:r.a.createElement("li",{key:"your-library",className:"lead"}," Your Library ")},{name:"Recently Played",uri:"recently-played"},{name:"Countries",uri:"featured-playlists-countries"},{name:"Liked Songs",uri:"liked-songs"},{name:"Artists",uri:"artists-list"},{el:r.a.createElement("hr",{key:"sep",className:"separator"})},{el:r.a.createElement("li",{key:"lead-playlists",className:"lead"}," Playlists ")}],de=function(e){var t=e.uri,n=e.setUri,i=Object(a.useState)(null),c=Object(o.a)(i,2),s=c[0],l=c[1];Object(a.useEffect)((function(){s||ie().then(l)}),[s]);var u=function(e,a){var i=((e||{}).owner||{}).display_name;return e.el?e.el:r.a.createElement("li",{key:e.uri+"#"+a,className:t===e.uri?"active":"","data-owner":i?" * by ".concat(i):"",id:e.uri,onClick:function(){return n(e.uri)}},e.icon?e.icon:""," ",e.name)};return((s||{}).items||[]).length?r.a.createElement(pe,{className:"menu"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(le,null),r.a.createElement("span",{className:"made"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kenjikatahira/react-spotify-player/"},"github"))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"fixed-pages"},me.map((function(e){return u(e)}))),r.a.createElement("div",{className:"playlists-wrapper"},s.items.map((function(e){return u(e)})))):r.a.createElement(pe,{className:"menu"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(le,null),r.a.createElement("span",{className:"made"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kenjikatahira/react-spotify-player/"},"github"))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"fixed-pages"},me.map((function(e){return u(e)}))))},fe=n(9);function he(){var e=Object(x.a)(['\n    display: grid;\n    grid-template-columns: 18%;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main";\n\n    text-align: center;\n    font-size: 11px;\n    height:8vh;\n\n    .image {\n        align-self: center;\n        img {\n            height:7vh;\n            padding: 6px;\n        }\n    }\n\n    .info {\n        align-self: center;\n        justify-self: start;\n        text-align: left;\n        .playing-artist {\n            color: #999;\n        }\n        .track {\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            width:100%;\n        }\n        .playing-artist,.track {\n            cursor: pointer;\n            margin-bottom: 2px;\n            &:last-child {\n                margin-bottom: 0;\n            }\n        }\n    }\n']);return he=function(){return e},e}var ge=E.a.div(he()),be=function(e){var t=e.currentTrack,n=e.setUri,a=((((t||{}).album||{}).images||[])[0]||{}).url,i=(t||{}).name,c=((t||{}).album||{}).uri,o=((t||{}).artists||[])[0]||{},s=o.name,l=o.uri;return r.a.createElement(ge,{className:"now-playing-info"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:a,alt:a})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"track",onClick:function(){return n(c)}},r.a.createElement("b",null,i)),r.a.createElement("div",{className:"playing-artist",onClick:function(){return n(l)}},s)))};function ye(){var e=Object(x.a)(["\n    text-align: center;\n    font-size: 13px;\n"]);return ye=function(){return e},e}var ve=E.a.div(ye()),xe=function(e){var t=e.count,n=e.fixed;return r.a.createElement(ve,{className:"timer"},h(n||t))},ke=function(e){var t=e.currentTrack,n=e.fixed,i=e.onChangePosition,c=t.paused,s=t.position,l=Object(a.useState)({count:s||0,currentTrack:t}),u=Object(o.a)(l,2),p=u[0],m=u[1];(t||{}).id!==(p.currentTrack||{}).id&&m({count:0,currentTrack:t});var d=function(e){({start:function(){return setTimeout((function(){m({count:p.count+1e3,currentTrack:t}),i(p.count)}),1e3)},stop:function(){({}).start&&clearTimeout((void 0).start)}})[e]()};return Object(a.useEffect)((function(){c||void 0===s?c&&d("stop"):d("start")})),r.a.createElement(xe,{count:p.count,fixed:n})};function we(){var e=Object(x.a)(['\n    background-color: #282828;\n    border-top: 1px solid #000;\n    display: grid;\n    grid-template-columns: 20%;\n    grid-template-rows: auto;\n    grid-template-areas:\n        "sidebar sidebar main main . ."\n        "footer footer footer footer footer footer";\n\n    .playing-wrapper {\n        grid-area: sidebar;\n    }\n    .inner-now-playing {\n        grid-area: main;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        .controls-buttons {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-around;\n            align-self: center;\n            width: 150px;\n            margin-bottom: 8px;\n\n            .control-button {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: #b3b3b3;\n                position: relative;\n                width: 32px;\n                min-width: 32px;\n                height: 32px;\n\n                &.play,&.pause {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    border: none;\n                    border-radius: 32px;\n                    svg {\n                        position: relative;\n                    }\n                    &:hover {\n                        background: none;\n                    }\n                }\n\n            }\n        }\n\n        .playback-bar {\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            width: 80%;\n            max-width: 722px;\n            align-self: center;\n            align-items: center;\n                position: relative;\n\n            .timer-label {\n                position:absolute;\n                &:first-child {\n                    left: -30px;\n                }\n                &:last-child {\n                    right: -30px;\n                }\n            }\n\n            .playback-progress-bar {\n                width: 100%;\n                margin: 0 10px;\n                background-color:#1a1a1a;\n\n                .progress-bar-inner {\n                    background-color: #b3b3b3;\n                    border-radius: 2px;\n                    height: 4px;\n                    width: 0;\n                }\n            }\n        }\n    }\n']);return we=function(){return e},e}var Ee=E.a.div(we()),je=function(e){var t=e.player,n=e.currentTrack,i=e.setUri,c=Object(a.useState)(0),s=Object(o.a)(c,2),l=s[0],u=s[1];return 0===Object.keys(t||{}).length?r.a.createElement("div",{className:"now-playing"}):r.a.createElement(Ee,{className:"now-playing"},r.a.createElement("div",{className:"playing-wrapper"},r.a.createElement(be,{currentTrack:n,setUri:i})),r.a.createElement("div",{className:"inner-now-playing"},r.a.createElement("div",{className:"controls-buttons"},r.a.createElement("button",{className:"btn control-button",onClick:t.prev},r.a.createElement(fe.a,{icon:"backward"})),((n||{}).disallows||{}).resuming?r.a.createElement("button",{className:"btn btn-outline-secondary control-button pause",onClick:t.pause},r.a.createElement(fe.a,{icon:"pause"})):r.a.createElement("button",{className:"btn btn-outline-secondary control-button play",onClick:function(){t.resume()}},r.a.createElement(fe.a,{icon:"play"})),r.a.createElement("button",{className:"btn control-button",onClick:t.next},r.a.createElement(fe.a,{icon:"forward"}))),r.a.createElement("div",{className:"playback-bar"},r.a.createElement("span",{className:"timer-label"},r.a.createElement(ke,{currentTrack:n||{},onChangePosition:function(e){return u(Math.floor(100*e/(n||{}).duration_ms))}})),r.a.createElement("div",{className:"playback-progress-bar"},r.a.createElement("div",{className:"progress-bar-inner",style:{width:l+"%"}})),r.a.createElement("span",{className:"timer-label"},(n||{}).duration_ms&&r.a.createElement(xe,{fixed:(n||{}).duration_ms})))))},Oe=n(33),Ne=n.n(Oe),_e=function(){return r.a.createElement("img",{src:Ne.a,alt:"loading"})};function ze(){var e=Object(x.a)(["\n    position: relative;\n    display: grid;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    font-size: 28px;\n    height: 92vh;\n    img {\n        width: 90px;\n    }\n"]);return ze=function(){return e},e}var Se=E.a.div(ze()),Te=function(){return r.a.createElement(Se,null,r.a.createElement("div",{className:"loading"},r.a.createElement(_e,null)))};function Ce(){var e=Object(x.a)(["\n    width: 90%;\n    margin: 0 auto;\n    margin-bottom: 20px;\n    .filter {\n        padding: 3px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n            background: inherit;\n            border-style: none;\n            color: #f5f5f5;\n        }\n    }\n    .toggleShow {\n        padding: 16px;\n        background: none;\n        border: none;\n        color: hsla(0,0%,100%,.7);\n    }\n    .copyright {\n        margin: 15px 0;\n        color: #aaa;\n    }\n    table {\n        list-style: none;\n        margin: 0;\n        padding: 10px;\n        color: #f5f5f5;\n\n        th {\n            color: #d1d1d1;\n            font-size: 12px;\n            text-transform: uppercase;\n            border-top: none;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            &:fist-child {\n                width: 30px;\n            }\n        }\n\n        tr {\n            &:not(.header):hover td {\n                background: rgba(255, 255, 255, 0.1);\n\n                .top-number {\n                    visibility: hidden;\n                }\n            }\n        }\n\n        td {\n            font-size: 13px;\n            vertical-align: middle;\n\n            &:nth-child(1) {\n                width: 20px;\n            }\n            &:last-child {\n                width: 80px;\n                text-align: center;\n            }\n        }\n\n        tr,\n        td {\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            cursor: pointer;\n            padding: 8px;\n            white-space: nowrap;\n            max-width: 220px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n\n            &:hover {\n                .action {\n                    visibility: visible;\n                }\n            }\n\n            &.has-image {\n                height:40px;\n                padding: 1px 0;\n\n                .list-image {\n                    width: 40px;\n                    margin-right: 15px;\n                }\n\n                .top-number {\n                    visibility: visible;\n                }\n\n                span {\n                    vertical-align: middle;\n                    svg {\n                        position: relative;\n                        top: 2px;\n                        right: 10px;\n                    }\n                }\n            }\n\n            .top-number {\n                visibility: hidden;\n            }\n\n            .action {\n                border: 1px solid #fff;\n                padding: 5px;\n                width: 20px;\n                height: 20px;\n                border-radius: 100%;\n                visibility: hidden;\n\n                &.selected {\n                    visibility: visible;\n                }\n            }\n\n            span.link:hover {\n                border-bottom: 1px solid #fff;\n            }\n        }\n    }\n"]);return Ce=function(){return e},e}var Be=E.a.div(Ce()),Pe=function(e){var t=e.table,n=e.player,i=e.limit,c=e.setUri,s=e.copyright,l=e.currentTrack,u=Object(a.useState)(i||null),p=Object(o.a)(u,2),m=p[0],d=p[1],f=Object(a.useState)([]),h=Object(o.a)(f,2),g=h[0],b=h[1],y=function(e,a){return r.a.createElement("tr",{key:e.id+"#"+a,onClick:function(){n.play({uri:e.uri,uris:t.body})}},r.a.createElement("td",{className:e.albumImage?"has-image":""},r.a.createElement("span",null,function(e,t){var n=e.albumImage,a=e.name;if(n)return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("img",{className:"list-image",src:n,alt:a})),r.a.createElement("span",{className:"top-number"},t+1))}(e,a)),r.a.createElement("span",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e===(l||{}).uri?r.a.createElement(fe.a,{className:t?"action":"action selected",icon:"pause"}):r.a.createElement(fe.a,{className:"action",icon:"play"})}(e.uri,!!e.albumImage))),e.name&&r.a.createElement("td",null,r.a.createElement("span",null,e.name)),e.artists&&r.a.createElement("td",null,r.a.createElement("span",{className:"link"},e.artists&&Object.values(e.artists).map((function(t,n){return function(e){var t=e.artist,n=e.total,a=e.index,i=t.id,o=t.uri,s=t.name;return r.a.createElement("span",{key:i+"#"+a,onClick:function(e){e.stopPropagation(),c(o)}},n>1&&a!==n-1?"".concat(s,", "):s)}({artist:t,total:(e.artists||[]).length,index:n})})))),e.album&&r.a.createElement("td",null,r.a.createElement("span",{className:"link",onClick:function(t){return function(e,t){e.stopPropagation(),c(t.album.uri)}(t,e)}}," ",e.album.name," ")),e.duration_ms&&r.a.createElement("td",null,r.a.createElement("span",null," ",e.duration_ms," ")))};return r.a.createElement(Be,{className:"tracklist"},r.a.createElement("div",{className:"filter"},r.a.createElement("input",{type:"text",placeholder:"Filter",onChange:function(e){!function(e){b(t.body.filter((function(t){return t.name.toLowerCase().replace("\xe3","a").indexOf(e.target.value.toLowerCase())>-1})))}(e)}})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"header"},r.a.createElement("th",{scope:"col"}),t.head.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,((g||[]).length>0?g:t.body).map((function(e,t){return m?t<+m&&y(e,t):y(e,t)})))),m&&r.a.createElement("button",{className:"toggleShow",onClick:function(){d(5===+m?10:5)}},"show ",5===+m?"more":"less"),s&&r.a.createElement("div",{className:"copyright"},s))};function Ue(){var e=Object(x.a)(['\n        display: flex;\n        width: 90%;\n        margin: 0 auto;\n        margin-bottom: 15px;\n        align-items: center;\n        .artwork-wrapper {\n            overflow: auto;\n            width: 260px;\n            .artwork {\n                width: 100%;\n                padding-bottom: 100%;\n            }\n        }\n\n        .info {\n            align-self: flex-end;\n            padding: 0 25px;\n            p { margin: 0; }\n            .info-type {\n                position: relative;\n                top: 5px;\n                text-transform: uppercase;\n                font-weight: 500;\n                font-size: 15px;\n            }\n            .info-name {\n                font-size: 48px;\n                line-height: 60px;\n                padding: 0.1em 0px;\n                font-weight: 600;\n                margin-bottom: 0;\n            }\n            .info-description {\n                max-width: 500px;\n            }\n            .info-details {\n                padding: 1px 0px 13px;\n                color:#aaa;\n                font-size: 12px;\n            }\n            .info-tracks {\n                margin-right: 4px;\n            }\n            .info-owner {\n                font-size: 14px;\n                strong { color:#fff; }\n                &:after {\n                    content: "\u2022";\n                    margin: 0px 4px;\n                }\n            }\n            .info-release-date {\n                &:after {\n                    content: "\u2022";\n                    margin: 0px 4px;\n                }\n            }\n            .info-artist {\n                display: block;\n                strong { color:#fff; }\n                &:after {\n                    padding: 0 6px;\n                }\n            }\n        }\n\n        .info-interactive {\n            .play,.pause {\n                cursor: pointer;\n                background: #1DB954;\n                border-radius: 15px;\n                font-size: 11px;\n                letter-spacing: 2px;\n                font-weight: bold;\n                width: 106px;\n                padding: 4px;\n                text-align: center;\n            }\n        }\n']);return Ue=function(){return e},e}var Ae=E.a.div(Ue()),Ie=function(e){var t,n=e.player,a=e.header,i=e.isPlaying,c=a.tracks,o=a.image,s=a.name,l=a.description,u=a.owner,p=a.total_duration,m=a.type;return r.a.createElement(Ae,{className:"tracklist-header"},o&&o.url&&r.a.createElement("div",{className:"artwork-wrapper"},r.a.createElement("div",{className:"artwork",style:{backgroundImage:"url(".concat(o.url,")"),backgroundSize:"cover",backgroundPosition:"center center"}})),r.a.createElement("div",{className:"col info d-flex flex-column"},r.a.createElement("strong",{className:"info-type"},m),r.a.createElement("h3",{className:"info-name"},s),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}}))}(l),r.a.createElement("div",{className:"info-details"},(u||{}).display_name&&r.a.createElement("span",{className:"info-owner"},"Created by ",r.a.createElement("strong",null,(u||{}).display_name)),"album"===m&&a.artists.length&&r.a.createElement("span",{className:"info-artist"},"By ",r.a.createElement("strong",null,(a.artists||[])[0].name)),"album"===m&&(t=(a||{}).releaseDate,r.a.createElement("span",{className:"info-release-date"},t)),"artist"!==m&&function(e){return r.a.createElement("span",{className:"info-tracks"},"".concat((e||[]).length," songs"))}(c),"artist"!==m&&p&&function(e){return r.a.createElement("span",{className:"info-duration"},"- ".concat(e," hrs"))}(p)),r.a.createElement("div",{className:"info-interactive"},function(e){return e?r.a.createElement("div",{className:"pause",onClick:function(){n.pause({uris:c||[]})}}," PAUSE "):r.a.createElement("div",{className:"play",onClick:function(){n.play({uris:c||[]})}}," PLAY ")}(i))))};function Fe(){var e=Object(x.a)(["\n"]);return Fe=function(){return e},e}var Re=E.a.div(Fe()),Le=function(){var e=Object(a.useContext)(ut),t=e.uri,n=e.setUri,i=e.player,c=e.setTopBar,s=e.currentTrack,l=Object(a.useState)(null),u=Object(o.a)(l,2),p=u[0],m=u[1];if(Object(a.useEffect)((function(){p?c(p.header.name):W({uri:t}).then(m)}),[p,t,c]),Object(a.useEffect)((function(){m(null)}),[t]),p){var d=p.table,f=p.header;return r.a.createElement(Re,{className:"playlist"},r.a.createElement(Ie,{player:i,header:f,isPlaying:((s||{}).disallows||{}).resuming}),r.a.createElement(Pe,{table:d,setUri:n,player:i,currentTrack:s}))}return r.a.createElement(Te,null)};function De(){var e=Object(x.a)(["\n    width:90%;\n    margin:0 auto;\n\n    h2 {\n        margin: 26px 15px;\n        border-bottom: 1px solid #ffffff1a;\n        padding-bottom: 17px;\n    }\n\n    .albums-row {\n        display: flex;\n        flex-direction: row;\n        flex-flow: row wrap;\n        width: 100%;\n        padding: 10px 0;\n        margin-bottom: 25px;\n        padding: 10px;\n        overflow: auto;\n        max-width: 100%;\n        .album {\n            position: relative;\n            padding-right: 20px;\n            padding-left: 20px;\n            cursor: pointer;\n            .image {\n                width: 100%;\n                padding-bottom: 100%;\n            }\n            .card-title {\n                font-size: 14px;\n            }\n            .card-body {\n                padding: 10px 0;\n            }\n            .card-body .card-text {\n                display : block;\n                font-weight: bold;\n                font-size:13px;\n                padding: 0;\n                margin: 0;\n            }\n            .overlay {\n                position: absolute;\n                bottom:0;\n                left:0;\n                right:0;\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n                opacity: 0;\n                margin-bottom:50%;\n            }\n            &:hover .overlay {\n                opacity: 1;\n            }\n        }\n    }\n"]);return De=function(){return e},e}var Je=E.a.div(De()),Me=function(e){var t=e.grid,n=e.player,a=e.setUri,i=function(e){var t=e.images,i=e.uri,c=e.id,o=e.name,s=e.artists;return r.a.createElement("div",{className:"album col-xs-12 col-sm-6 col-md-4 col-lg-3",key:c},r.a.createElement("div",{className:"image",onClick:function(){-1!==i.indexOf("spotify:track")?n.play({uri:i}):a(i)},style:{backgroundImage:"url(".concat((t||{}).length&&t[0].url,")"),backgroundSize:"cover",backgroundPosition:"center center"}}),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},s&&s[0].name),r.a.createElement("p",{className:"card-title"},o)))};return r.a.createElement(Je,{className:"grid"},Object.values(t||{}).map((function(e){var t=e.message,n=e.type,a=e.items;if(a)return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("h2",null," ",t," "),r.a.createElement("div",{className:"albums-row",key:n},a.map(i)))})))},He=function(){var e=Object(a.useContext)(ut),t=e.uri,n=e.player,i=e.setUri,c=e.setTopBar,s=e.currentTrack,l=Object(a.useState)(null),u=Object(o.a)(l,2),p=u[0],m=u[1];if(Object(a.useEffect)((function(){p?c(p.header.name):W({uri:t}).then(m)}),[p,t,c]),Object(a.useEffect)((function(){m(null)}),[t]),p){var d=p.table,f=p.header,h=p.label,g=p.releaseDate,b=p.grid;return r.a.createElement("div",{className:"album"},r.a.createElement(Ie,{player:n,header:f,isPlaying:((s||{}).disallows||{}).resuming}),r.a.createElement(Pe,{table:d,setUri:i,player:n,copyright:"\xa9 ".concat(g," ").concat(h),currentTrack:s}),r.a.createElement(Me,{grid:b,setUri:i,player:n}))}return r.a.createElement(Te,null)};function qe(){var e=Object(x.a)(["\n    padding: 15px 0;\n    ul {\n        padding: 0;\n        li {\n            display: flex;\n            flex-direction: row;\n            align-items : center;\n            list-style:none;\n            height: 44px;\n            cursor: pointer;\n            font-size: 12px;\n            .image {\n                height:30px;\n                width: 30px;\n                border-radius: 50%;\n            }\n            .name {\n                padding-left: 10px;\n            }\n        }\n    }\n"]);return qe=function(){return e},e}var Ke=E.a.div(qe()),Ye=function(e){var t=e.setUri,n=e.relatedArtists;return r.a.createElement(Ke,{className:"relatedArtists"},r.a.createElement("h4",null,"Fans Also Like"),r.a.createElement("ul",null,n.artists.filter((function(e,t){return t<6})).map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){return t(e.uri)}},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(e.images[2].url,")"),backgroundSize:"cover",backgroundPosition:"center center"}}),r.a.createElement("div",{className:"name"},e.name))}))))};function Ze(){var e=Object(x.a)(['\n    padding: 20px 0;\n    .container {\n        margin-left: 20px;\n    }\n    .artist-top-related {\n        display: grid;\n        grid-template-columns: 14vw;\n        grid-template-rows: auto;\n        grid-template-areas:\n          "topTracks topTracks topTracks topTracks topTracks related";\n    }\n    .tracklist {\n        grid-area : topTracks;\n        padding: 15px 32px;\n    }\n    .related-artists {\n        grid-area : related;\n        padding: 0 5px 24px;\n    }\n']);return Ze=function(){return e},e}var Ve=E.a.div(Ze()),We=function(){var e=Object(a.useContext)(ut),t=e.uri,n=e.setUri,i=e.player,c=e.setTopBar,s=e.currentTrack,l=Object(a.useState)(null),u=Object(o.a)(l,2),p=u[0],m=u[1];if(Object(a.useEffect)((function(){p?c(p.header.name):W({uri:t}).then(m)}),[p,t,c]),Object(a.useEffect)((function(){m(null)}),[t]),p){var d=p.table,f=p.header,h=p.relatedArtists,g=p.grid;return r.a.createElement(Ve,{className:"artist"},r.a.createElement(Ie,{header:f,player:i,isPlaying:((s||{}).disallows||{}).resuming}),r.a.createElement("div",{className:"artist-top-related"},r.a.createElement(Pe,{table:d,limit:"5",player:i,setUri:n,currentTrack:s}),r.a.createElement(Ye,{relatedArtists:h,setUri:n})),r.a.createElement(Me,{grid:g,setUri:n,player:i}))}return r.a.createElement(Te,null)};function $e(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    grid-area : user;\n\n    .avatar {\n        margin-right: 10px;\n        img {\n            border-radius: 50%;\n            width: 28px;\n        }\n    }\n\n    .user {\n        font-size: 15px;\n        line-height: 25px;\n    }\n"]);return $e=function(){return e},e}var Ge=E.a.div($e()),Qe=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){n||se().then(i)}),[n]),n?r.a.createElement(Ge,{className:"user-widget"},"premium"!==n.product&&r.a.createElement("div",{class:"alert alert-danger",role:"alert"},"You need a premium account to play the songs. =("),r.a.createElement("div",{className:"avatar"},n.images.length?r.a.createElement("img",{src:n.images[0].url,alt:"userimage"}):""),r.a.createElement("div",{className:"user"},n.display_name)):r.a.createElement("div",null)};function Xe(){var e=Object(x.a)(['\n    width:100%;\n    height:60px;\n    display: grid;\n    grid-template-columns: 14vw;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "search . . . user"\n      "additional-bar additional-bar additional-bar additional-bar additional-bar";\n    position: sticky;\n    top: 0;\n    align-items: center;\n    z-index: 30;\n\n    .search {\n        width: 176px;\n        height: 24px;\n        border-radius: 27px;\n        background: inherit;\n        border-style: none;\n        background-color: #f5f5f5;\n        margin: 16px 20px;\n        z-index: 999;\n    }\n\n    .user-widget {\n        padding: 16px 20px;\n        z-index: 999;\n    }\n\n    .additional-bar {\n        width: 100%;\n        opacity : 0;\n        grid-area: additional-bar;\n        height: 0;\n        border-bottom: 1px solid #333;\n        transition: .3s;\n        padding: 10px 32px;\n        font-weight: bold;\n    }\n\n    &.sticky {\n        animation: mushroom-bottom .4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n        .additional-bar {\n            opacity: 1;\n            background: rgba(0,0,0,1);\n            height: auto;\n\n            h2 {\n                animation: fade-in .4s cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.4s both;\n            }\n        }\n    }\n\n']);return Xe=function(){return e},e}var et=E.a.div(Xe()),tt=function(e){var t=e.scroll,n=e.title,a=e.setUri,i=e.onSearch,c=function(e){e.persist(),"Enter"===e.key&&(a("search"),i(e.target.value),e.target.value="",e.target.blur())},o=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onKeyDown:c,className:"search",type:"search"}),r.a.createElement(Qe,null),r.a.createElement("div",{className:"additional-bar"},r.a.createElement("h2",null,n)))};return t>=300?r.a.createElement(r.a.Fragment,null,r.a.createElement(et,{className:"top-bar sticky",style:{backgroundColor:"rgba(0,0,0,"+100*t/250+"%)"}},o())):r.a.createElement(et,{className:"top-bar",style:{backgroundColor:"rgba(0,0,0,"+100*t/250+"%)"}},o())};function nt(){var e=Object(x.a)(["\n"]);return nt=function(){return e},e}var at=E.a.div(nt()),rt=function(){var e=Object(a.useContext)(ut),t=e.searchTerm,n=e.setUri,i=e.uri,c=e.player,s=Object(a.useState)(null),l=Object(o.a)(s,2),u=l[0],p=l[1];return Object(a.useEffect)((function(){t&&""!==t&&$({searchTerm:t}).then((function(e){p(e)}))}),[t]),Object(a.useEffect)((function(){p(null)}),[i]),u?r.a.createElement(at,{className:"search"},r.a.createElement(Me,{grid:(u||{}).grid,player:c,setUri:n})):r.a.createElement(Te,null)},it={home:{title:"Home"},browse:{title:"Browse"},"recently-played":{title:"Recently Played"},Countries:{title:"Countries Featured Playlists"},"liked-songs":{title:"Liked Songs"},"artists-list":{title:"Artists"},"featured-playlists-countries":{title:"Featured Playlists"}};function ct(){var e=Object(x.a)(["\n    width: 90%;\n    margin: 0 auto;\n"]);return ct=function(){return e},e}var ot=E.a.div(ct()),st=function(){var e=Object(a.useContext)(ut),t=e.player,n=e.setUri,i=e.uri,c=e.setTopBar,s=Object(a.useState)(null),l=Object(o.a)(s,2),u=l[0],p=l[1],m=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}(i);return Object(a.useEffect)((function(){i!==m?W({uri:i}).then(p):c((it[i]||{}).title||i)}),[i,m,c]),r.a.createElement(ot,{className:i},r.a.createElement(Me,{grid:(u||{}).grid,player:t,setUri:n}))};function lt(){var e=Object(x.a)(['\n    display: grid;\n    grid-template-columns: 14vw;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main main main main"\n      "footer footer footer footer footer footer"\n      "devicesBar devicesBar devicesBar devicesBar devicesBar devicesBar";\n    overflow: hidden;\n    font-family: "Montserrat";\n    color: #F5F5F5;\n    overflow: none;\n    border-radius: 15px;\n\n    a {\n        color: #F5F5F5;\n    }\n\n    .github {\n        position: absolute;\n        top:0;\n        right:0;\n        z-index:1000;\n        width:120px;\n        img {\n            width: 120px;\n            height: 120px;\n        }\n    }\n\n    .search {\n        padding: 0 8px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n        }\n    }\n\n\n    .menu-wrapper, .browser-wrapper {\n        position: relative;\n        overflow-x: hidden;\n        overflow-y: auto;\n        height: 82vh;\n        background-repeat: no-repeat;\n        background-attachment: local;\n\n        &::-webkit-scrollbar {\n            width: 1em;\n            background-color: hsla(0,0%,100%,.3);\n        }\n        &::-webkit-scrollbar-thumb {\n            min-height: 30px;\n            max-height: none;\n            background-color: hsla(0,0%,100%,.3);\n        }\n    }\n\n    .menu-wrapper {\n        grid-area: sidebar;\n        background: #111;\n        justify-content: stretch;\n        &::-webkit-scrollbar {\n            background: #000;\n        }\n    }\n\n    .browser-wrapper {\n        grid-area: main;\n        linear-gradient(0deg, #0c0c0c 0%, #0c0c0c 80%, #0c0c0c 100%)\n        .browser-inner-wrapper {\n            max-width: 100%;\n            margin-bottom: 1em;\n        }\n    }\n\n    .now-playing-wrapper {\n        position: relative;\n        width: 100%;\n        background-color: #282828;\n        grid-area: footer;\n    }\n\n    .devices-bar-wrapper {\n        grid-area: devicesBar;\n    }\n']);return lt=function(){return e},e}var ut=r.a.createContext(),pt=E.a.div(lt()),mt=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(localStorage.getItem("lastUri")||"home"),s=Object(o.a)(c,2),l=s[0],u=s[1],m=Object(a.useState)(null),d=Object(o.a)(m,2),f=d[0],h=d[1],g=Object(a.useState)(0),b=Object(o.a)(g,2),y=b[0],v=b[1],x=Object(a.useState)(null),k=Object(o.a)(x,2),w=k[0],E=k[1],j=Object(a.useState)(null),N=Object(o.a)(j,2),_=N[0],z=N[1],S=function(){O.a.get("https://api.spotify.com/v1/me/player/devices",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}}).then((function(e){var t=e.data.devices,n=t.filter((function(e){return e.is_active})),a=Object(o.a)(n,1);t=a[0],O.a.get("https://api.spotify.com/v1/me/player/currently-playing",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}}).then((function(e){var n=e.data;if(n){var a=n.actions.disallows;(n||{}).item&&h(Object(M.a)(Object(M.a)({},n.item),{},{device:t,disallows:a}))}}))}))};Object(a.useEffect)((function(){var e=document.createElement("script");e.src="https://sdk.scdn.co/spotify-player.js",e.async=!0,document.body.appendChild(e),S()}),[]);Object(a.useEffect)((function(){return u(l),localStorage.setItem("lastUri",l),document.querySelector(".browser-wrapper").scroll(0,0),-1===l.indexOf("playlist")&&-1===l.indexOf("album")&&-1===l.indexOf("artist")&&E(function(e){return{home:"Home","recently-played":"Recently Played"}[e]}(l)),function(){u(null)}}),[l]),Object(a.useEffect)((function(){if(window.onSpotifyWebPlaybackSDKReady=function(){i(V())},n){n.addListener("ready",(function(e){!function(e){console.log("Ready - Device ID - Localstorage",e),localStorage.setItem("device_id",e)}(e.device_id)})),n.addListener("player_state_changed",(function(e){e&&e.track_window?h(Object(M.a)(Object(M.a)({},e.track_window.current_track),e)):console.log(e)})),n.connect()}}),[n]);return r.a.createElement(pt,{className:"main"},r.a.createElement("div",{className:"menu-wrapper"},r.a.createElement(de,{setUri:u,uri:l})),r.a.createElement("div",{className:"browser-wrapper",onScroll:function(e){return v(e.target.scrollTop)}},r.a.createElement(tt,{scroll:y,title:w,setUri:u,onSearch:function(e){return z(e)}}),r.a.createElement(ut.Provider,{value:{uri:l,setUri:u,setTopBar:E,player:n,currentTrack:f,searchTerm:_}},function(){if(l)return-1!==l.indexOf("spotify:playlist")?r.a.createElement(Le,null):-1!==l.indexOf("spotify:album")?r.a.createElement(He,null):-1!==l.indexOf("spotify:artist")?r.a.createElement(We,null):-1!==l.indexOf("search")?r.a.createElement(rt,null):r.a.createElement(st,null)}())),r.a.createElement("div",{className:"now-playing-wrapper"},r.a.createElement(je,{currentTrack:f,setUri:u,player:n})))},dt=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1];Object(a.useEffect)((function(){p().access_token&&i(!0)}),[]);return n?r.a.createElement("div",{className:"app"},r.a.createElement(mt,null)):r.a.createElement("div",{className:"app"},r.a.createElement(J,{onLogin:function(e){!function(e){var t=e.access_token,n=e.token_type,a=e.expires_in,r=(new Date).valueOf()+36e5;localStorage.setItem("access_token",t),localStorage.setItem("token_type",n),localStorage.setItem("expires_in",a),localStorage.setItem("expires_at",r),console.log("setsession")}(e),i(!!e.access_token)}}))};c.a.render(r.a.createElement(dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.661b87db.chunk.js.map