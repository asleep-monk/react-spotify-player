(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/Rolling-1.2s-184px.f6b49911.gif"},37:function(e,t,n){e.exports=n(67)},48:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(30),o=n(17),c=n.n(o),s=n(1);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(13),u=n(14),p=Object(l.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"GET_USER"===t.type?Object(u.a)(Object(u.a)({},e),t.payload):"LOGOUT"===t.type?{}:e},logged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"ISLOGGED"===t.type||"LOGIN"===t.type||"LOGOUT"===t.type?t.payload:e},playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"GET_PLAYLISTS"===t.type?Object(u.a)(Object(u.a)({},e),t.payload):"LOGOUT"===t.type?{}:e},uri:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",t=arguments.length>1?arguments[1]:void 0;return"SET_VIEW"===t.type?t.payload:e},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_VIEW"===t.type?t.payload:"CLEAR_VIEW"===t.type?[]:e},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"GET_PLAYER"===t.type?t.payload:e},featured_paylists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"GET_FEATURED_PLAYLISTS"===t.type?Object(u.a)(Object(u.a)({},e),t.payload):e},current_state:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_STATE"===t.type?t.payload:"GET_RECENTLY_TRACKS"===t.type?{current_track:t.payload}:e}}),d=n(3),m=n(4),f=n(8),h=n(7),g=(n(48),n(2)),v=n.n(g),y=n(10),b=function(){return{access_token:localStorage.getItem("access_token"),token_type:localStorage.getItem("token_type")}},k=function(){return localStorage.getItem("device_id")},w=function(){var e=JSON.parse(localStorage.getItem("expires_at"));return e&&(new Date).valueOf()<e},x=function(e,t){var n=t.indexOf(e),a=[],r=[],i=!1;return t.forEach((function(e,t){t===n&&(i=!0),i?r.includes(e)||r.push(e):a.push(e)})),a.forEach((function(e){r.push(e)})),r},E=function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return"".concat(t,":").concat(n<10?"0":"").concat(n)},j=n(9),_=n.n(j),O=function(){return _.a.get("https://api.spotify.com/v1/browse/featured-playlists?country=CA&limit=4",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},N=function(){return _.a.get("https://api.spotify.com/v1/me/player/recently-played",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},S=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/albums/"+t[t.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},T=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/artists/".concat(t[t.length-1],"/albums"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},z=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/playlists/".concat(t[t.length-1],"/images"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},C=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/playlists/".concat(t[t.length-1],"/tracks"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},A=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/playlists/"+t[t.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},I=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/artists/".concat(t[t.length-1],"/top-tracks?country=BR"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},V=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/artists/"+t[t.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},P=function(e){var t=e.uri.split(":");return _.a.get("https://api.spotify.com/v1/artists/"+t[t.length-1]+"/related-artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})},L=n(12),B=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.uri).split(":").indexOf("album")>=0)){e.next=7;break}return e.next=4,G(n);case 4:a=e.sent,e.next=17;break;case 7:if(!(n.split(":").indexOf("playlist")>=0)){e.next=13;break}return e.next=10,U(n);case 10:a=e.sent,e.next=17;break;case 13:if(!(n.split(":").indexOf("artist")>=0)){e.next=17;break}return e.next=16,D(n);case 16:a=e.sent;case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){if(!e)return!1;var t=e.reduce((function(e,t){return e+t.duration_ms}),0);return E(Math.floor(t/60))},U=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r,i,o,c,s,l,u,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a={playlist:C({uri:t}),playlistInfo:A({uri:t}),playlistCover:z({uri:t})},e.next=4,Promise.all(Object.values(a));case 4:return r=e.sent,i=Object(L.a)(r,3),o=i[0],c=i[1],s=i[2],l=Object(L.a)(s.data,1),u=l[0],n.tracks=o.data.items.map((function(e){return e.track})).filter((function(e){return e})),p=function(e){return{head:["name","artist","album","duration"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:E(e.duration_ms),album:e.album,artists:e.artists,uri:e.uri}}))}},e.abrupt("return",{type:"playlist",header:{type:"playlist",name:c.data.name,image:u,tracks:p(n).body,total_duration:R(n.tracks),owner:c.data.owner,followers:c.data.followers.total,description:c.data.description,public:c.data.public},table:p(n)});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({uri:t});case 2:return n=e.sent,a=n.data,r=Object(L.a)(a.images,1),i=r[0],o=function(e){return{head:["name","artist","duration"],body:e.tracks.items.map((function(e){return{id:e.id,name:e.name,duration_ms:E(e.duration_ms),uri:e.uri,artists:e.artists}}))}},e.abrupt("return",{type:"album",header:{name:a.name,image:i,tracks:o(a).body,total_duration:R(a.tracks.items)},table:o(a)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r,i,o,c,s,l,u,p,d,m,f;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,V({uri:t});case 3:return a=e.sent,r=a.data,e.next=7,I({uri:t});case 7:return i=e.sent,o=i.data,e.next=11,T({uri:t});case 11:return c=e.sent,s=c.data,e.next=15,P({uri:t});case 15:return l=e.sent,u=l.data,p=Object(L.a)(r.images,1),d=p[0],n.tracks||(n.tracks=o.tracks),m=function(e){var t=[];return{artistAlbums:{message:"Albums",type:"artist",items:e.items.filter((function(e){return!t.includes(e.name)&&"album"===e.album_type&&(t.push(e.name),!0)}))},artistSingles:{message:"Singles",type:"artist",items:e.items.filter((function(e){return!t.includes(e.name)&&"single"===e.album_type&&(t.push(e.name),!0)}))}}},f=function(e){return{head:["Popular"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:E(e.duration_ms),uri:e.uri}}))}},e.abrupt("return",{type:"artist",header:{type:"artist",name:r.name,image:d,tracks:f(n).body},table:f(n),grid:m(s),relatedArtists:u});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){try{fetch("https://api.spotify.com/v1/me/player/previous",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(b().token_type," ").concat(b().access_token)}})}catch(t){K({uri:e})}},W=function(){fetch("https://api.spotify.com/v1/me/player/next",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(b().token_type," ").concat(b().access_token)}})},M=function(){fetch("https://api.spotify.com/v1/me/player/pause",{method:"PUT",headers:{"content-type":"application/json",authorization:"".concat(b().token_type," ").concat(b().access_token)}})},Y=function(){var e=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(k()),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b().access_token)}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uri,a=t.uris,r=x(n,(a||[]).map((function(e){return e.uri}))),fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(k()),{method:"PUT",body:JSON.stringify({uris:r.length?r:[n]}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b().access_token)}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){console.log("____init___");var e=new window.Spotify.Player({playerInstance:new window.Spotify.Player({name:"Kenjicas Player"}),name:"Kenjicas Player",getOAuthToken:function(e){return e(b().access_token)}});return e.play=K,e.next=W,e.previous=F,e.pause=M,e.resume=Y,e},J=function(){return function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a,r,i,o,c,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[N(),O(),_.a.get("https://api.spotify.com/v1/me/top/artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}})],e.next=3,Promise.all(Object.values(n));case 3:a=e.sent,r=Object(L.a)(a,3),i=r[0].data,o=r[1].data,c=r[2].data,s=function(e){return{message:e.message,items:e.playlists.items,type:"playlists"}},l=function(e){return{message:"Top Artists",items:e.items,type:"top-artists"}},t({type:"GET_VIEW",payload:{grid:{recentlyTracks:function(e){var t=[],n=e.items.map((function(e){return e.track.album}));return n=n.filter((function(e){return!t.includes(e.id)&&(t.push(e.id),e)})),{href:e.href,message:"Recently Played",items:n,type:"recently-played"}}(i),featuredPlaylists:s(o),top_artists:l(c)}}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){return function(e){_.a.get("https://api.spotify.com/v1/me/tracks?limit=30",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}}).then((function(t){var n=t.data;e({type:"GET_VIEW",payload:{grid:function(e){var t=e.items.map((function(e){return e.track}));return{savedTracks:{message:"Saved Tracks",type:"saved-tracks",items:t=t.map((function(e){return{images:e.album.images,name:e.name,uri:e.uri,album:{uri:e.album.uri},artists:e.artists}}))}}}(n)}})}))}},q=function(e){return function(){var t=Object(y.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e||{}).uri&&window.localStorage.setItem("last_uri",e.uri),n({type:"SET_VIEW",payload:(e||{}).uri||"home"});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q=function(e){var t=e.uri;return function(){var e=Object(y.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({uri:t});case 2:a=e.sent,n({type:"GET_VIEW",payload:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=function(){return function(e){e({type:"CLEAR_VIEW",payload:[]})}},Z=function(){return function(e){localStorage.removeItem("access_token"),localStorage.removeItem("token_type"),localStorage.removeItem("expires_in"),localStorage.removeItem("expires_at"),console.log("removesession"),e({type:"LOGOUT",payload:{status:!1,access_token:!1}})}},ee=n(5),te=n(6),ne=(n(66),n(32)),ae=n.n(ne),re=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:ae.a,alt:"loading"})))};function ie(){var e=Object(ee.a)(["\n    width:90%;\n    margin:0 auto;\n    .albums-row {\n        display: flex;\n        flex-direction: row;\n        flex-flow: row wrap;\n        width: 100%;\n        padding: 10px 0;\n        margin-bottom: 25px;\n        padding: 10px;\n        resize: horizontal;\n        overflow: auto;\n        max-width: 100%;\n        .album {\n            padding-right: 5px;\n            padding-left: 5px;\n            cursor: pointer;\n            .image {\n                width: 100%;\n                padding-bottom: 100%;\n            }\n            .card-title {\n                font-size: 12px;\n            }\n            .card-body {\n                padding: 10px 0;\n            }\n            .card-body .card-text {\n                display : block;\n                font-weight: bold;\n                font-size:13px;\n                padding: 0;\n                margin: 0;\n            }\n        }\n    }\n"]);return ie=function(){return e},e}var oe=te.a.div(ie()),ce=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentWillUnmount",value:function(){this.props.clearView()}},{key:"renderAlbums",value:function(e){var t=this,n=e.images,a=e.uri,i=e.id,o=e.name,c=e.artists;return r.a.createElement("div",{className:"album col-xs-12 col-sm-6 col-md-4 col-lg-3",key:i},r.a.createElement("div",{className:"image",onClick:function(e){t.props.setView({uri:a})},style:{backgroundImage:"url(".concat(n.length&&n[0].url,")"),backgroundSize:"cover",backgroundPosition:"center center"}}),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text",onClick:function(e){e.stopPropagation(),t.props.setView({uri:c&&c[0].uri})}},c&&c[0].name),r.a.createElement("p",{className:"card-title",onClick:function(e){e.stopPropagation(),t.props.player.play({uri:a})}},o),r.a.createElement("p",null,"PLAY")))}},{key:"renderRow",value:function(e){var t=e.message,n=e.type,a=e.items;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null," ",t," "),r.a.createElement("div",{className:"albums-row",key:n},a.map(this.renderAlbums.bind(this))))}},{key:"render",value:function(){var e=this.props.grid;return e&&Object.keys(e).length?r.a.createElement(oe,{className:"grid"},Object.values(e).map(this.renderRow.bind(this))):r.a.createElement(re,null)}}]),n}(r.a.Component),se=Object(s.b)((function(e){return{player:e.player}}),{setView:q,clearView:X})(ce);function le(){var e=Object(ee.a)(["\n\n"]);return le=function(){return e},e}var ue=te.a.div(le()),pe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.getHome()}},{key:"componentDidUpdate",value:function(e){(e.view||{}).table&&(this.props.view||{}).table&&this.props.uri!==e.uri&&this.props.getView({uri:e.uri})}},{key:"render",value:function(){return(this.props.view||{}).grid?r.a.createElement(ue,{className:"home"},r.a.createElement(se,{grid:this.props.view.grid})):r.a.createElement(re,null)}}]),n}(r.a.Component),de=Object(s.b)((function(e){return{view:e.view}}),{getHome:J,setView:q})(pe);function me(){var e=Object(ee.a)(['\n        padding: 15px 32px;\n        margin-bottom: 15px;\n        display: flex;\n        align-items: center;\n        img {\n            width: 220px;\n        }\n\n        .info {\n            align-self: flex-end;\n            padding: 0 10px;\n            p { margin: 0; }\n            .info-type {\n                position: relative;\n                top: 5px;\n                text-transform: uppercase;\n                font-weight: 300;\n                font-size: 15px;\n            }\n            .info-name {\n                font-size: 82px;\n                line-height: 82px;\n                padding: 0.08em 0px;\n                font-weight: 600;\n                margin-bottom: 0;\n            }\n            .info-description {\n                max-width: 500px;\n            }\n            .info-details {\n                padding: 14px 0;\n            }\n            .info-tracks {\n                margin-right: 4px;\n            }\n            .info-owner {\n                &:after {\n                    content:"*";\n                    padding: 0 6px;\n                }\n            }\n        }\n\n        .info-interactive {\n            .play {\n                cursor: pointer;\n                background: #1DB954;\n                border-radius: 15px;\n                font-size: 11px;\n                letter-spacing: 2px;\n                font-weight: bold;\n                width: 106px;\n                padding: 4px;\n                text-align: center;\n            }\n        }\n']);return me=function(){return e},e}var fe=te.a.div(me()),he=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"getDescription",value:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}}))}},{key:"tracksDuration",value:function(e){return r.a.createElement("span",{className:"info-duration"},"- ".concat(e," hrs"))}},{key:"getSongsLenght",value:function(e){return r.a.createElement("span",{className:"info-tracks"},"".concat((e||[]).length," songs"))}},{key:"render",value:function(){var e=this,t=this.props.header,n=t.tracks,a=t.image,i=t.name,o=t.description,c=t.owner,s=t.total_duration,l=t.type;return r.a.createElement(fe,{className:"tracklist-header"},a&&a.url&&r.a.createElement("div",{className:"artwork"},r.a.createElement("img",{src:a.url,alt:i||""})),r.a.createElement("div",{className:"col info d-flex flex-column"},r.a.createElement("strong",{className:"info-type"},l),r.a.createElement("h3",{className:"info-name"},i),this.getDescription(o),r.a.createElement("div",{className:"info-details"},(c||{}).display_name&&r.a.createElement("span",{className:"info-owner"},"Created by ",r.a.createElement("strong",null,(c||{}).display_name)),"artist"!==l&&this.getSongsLenght(n),"artist"!==l&&s&&this.tracksDuration(s)),r.a.createElement("div",{className:"info-interactive"},r.a.createElement("div",{className:"play",onClick:function(){e.props.player.play({uris:n||[]})}}," PLAY "))))}}]),n}(r.a.Component),ge=Object(s.b)((function(e){return{player:e.player}}),{})(he);function ve(){var e=Object(ee.a)(["\n    padding: 0 32px 24px;\n    .filter {\n        padding: 3px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n            background: inherit;\n            border-style: none;\n            color: #f5f5f5;\n        }\n    }\n    .toggleShow {\n        padding: 16px;\n        background: none;\n        border: none;\n        color: hsla(0,0%,100%,.7);\n    }\n    table {\n        list-style: none;\n        margin: 0;\n        padding: 10px;\n        color: #f5f5f5;\n\n        th {\n            color: #d1d1d1;\n            font-size: 13px;\n            text-transform: uppercase;\n            border-top: none;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            &:fist-child {\n                width: 30px;\n            }\n        }\n\n        tr {\n            &:not(.header):hover td {\n                background: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        td {\n            &:nth-child(1) {\n                width: 20px;\n            }\n            &:last-child {\n                width: 80px;\n                text-align: center;\n            }\n        }\n\n        tr,\n        td {\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            cursor: pointer;\n            padding: 8px;\n            white-space: nowrap;\n            max-width: 220px;\n            overflow: hidden;\n\n            &:hover {\n                .play {\n                    visibility: visible;\n                }\n            }\n\n            .play {\n                border: 1px solid #fff;\n                padding: 5px;\n                width: 20px;\n                height: 20px;\n                border-radius: 100%;\n                visibility: hidden;\n            }\n\n            span.link:hover {\n                border-bottom: 1px solid #fff;\n            }\n        }\n    }\n"]);return ve=function(){return e},e}var ye=te.a.div(ve()),be=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={filteredItems:[],limit:e.limit||null},a}return Object(m.a)(n,[{key:"componentWillUnmount",value:function(){this.props.clearView()}},{key:"setArtist",value:function(e){var t=this,n=e.artist,a=e.total,i=e.index,o=n.id,c=n.uri,s=n.name;return r.a.createElement("span",{key:o+"#"+i,onClick:function(e){e.stopPropagation(),t.props.setView({uri:c})}},a>1&&i!==a-1?"".concat(s,", "):s)}},{key:"setAlbum",value:function(e,t){e.stopPropagation(),this.props.setView({uri:t.album.uri})}},{key:"renderList",value:function(e,t){var n=this;return r.a.createElement("tr",{key:e.id+"#"+t,onClick:function(){n.props.player.play({uri:e.uri,uris:n.props.table.tracks})}},r.a.createElement("td",null,r.a.createElement("span",null,r.a.createElement("i",{className:"play fas fa-play"}))),e.name&&r.a.createElement("td",null,r.a.createElement("span",null,e.name)),e.artists&&r.a.createElement("td",null,r.a.createElement("span",{className:"link"},e.artists&&Object.values(e.artists).map((function(t,a){return n.setArtist({artist:t,total:(e.artists||[]).length,index:a})})))),e.album&&r.a.createElement("td",null,r.a.createElement("span",{className:"link",onClick:function(t){return n.setAlbum(t,e)}}," ",e.album.name," ")),e.duration_ms&&r.a.createElement("td",null,r.a.createElement("span",null," ",e.duration_ms," ")))}},{key:"onFilter",value:function(e){this.setState({filteredItems:this.props.table.body.filter((function(t){return t.name.toLowerCase().replace("\xe3","a").indexOf(e.target.value.toLowerCase())>-1}))})}},{key:"showMore",value:function(){this.setState({limit:5===+this.state.limit?10:5})}},{key:"render",value:function(){var e=this;return r.a.createElement(ye,{className:"tracklist"},r.a.createElement("div",{className:"filter"},r.a.createElement("input",{type:"text",placeholder:"Filter",onChange:function(t){e.onFilter(t)}})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"header"},r.a.createElement("th",{scope:"col"}),this.props.table.head.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,((this.state.filteredItems||[]).length>0?this.state.filteredItems:this.props.table.body).map((function(t,n){return e.state.limit?n<+e.state.limit&&e.renderList(t,n):e.renderList(t,n)})))),this.props.limit&&r.a.createElement("button",{className:"toggleShow",onClick:this.showMore.bind(this)},"show ",5===+this.state.limit?"more":"less"))}}]),n}(r.a.Component),ke=Object(s.b)((function(e){return{player:e.player}}),{setView:q,clearView:X})(be);function we(){var e=Object(ee.a)(["\n"]);return we=function(){return e},e}var xe=te.a.div(we()),Ee=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentWillMount",value:function(){this.props.getView({uri:this.props.uri})}},{key:"componentWillUpdate",value:function(e){(e.view||{}).table&&(this.props.view||{}).table&&this.props.uri!==e.uri&&this.props.getView({uri:e.uri})}},{key:"render",value:function(){return(this.props.view||{}).table?r.a.createElement(xe,{className:"playlist"},r.a.createElement(ge,{header:this.props.view.header}),r.a.createElement(ke,{table:this.props.view.table})):r.a.createElement(re,null)}}]),n}(r.a.Component),je=Object(s.b)((function(e){return{uri:e.uri,view:e.view,player:e.player}}),{getView:Q,setView:q})(Ee),_e=function(e){var t=e.relatedArtists;console.log(t);return r.a.createElement("div",{className:"related-artists"},r.a.createElement("ul",null,void 0!==t&&t.artists.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}))))};function Oe(){var e=Object(ee.a)(['\n    padding: 20px 0;\n    .container {\n        margin-left: 20px;\n    }\n    .artist-top-related {\n        display: grid;\n        grid-template-columns: 14vw;\n        grid-template-rows: auto;\n        grid-template-areas:\n          "topTracks topTracks topTracks topTracks topTracks related";\n    }\n    .tracklist {\n        grid-area : topTracks;\n        padding: 15px 32px;\n    }\n    .related-artists {\n        grid-area : related;\n        padding: 0 5px 24px;\n    }\n']);return Oe=function(){return e},e}var Ne=te.a.div(Oe()),Se=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentWillMount",value:function(){this.props.getView({uri:this.props.uri})}},{key:"componentDidUpdate",value:function(e){(e.view||{}).table&&(this.props.view||{}).table&&this.props.uri!==e.uri&&this.props.getView({uri:e.uri})}},{key:"render",value:function(){return(this.props.view||{}).table?r.a.createElement(Ne,{className:"artist"},r.a.createElement(ge,{header:this.props.view.header}),r.a.createElement("div",{className:"artist-top-related"},r.a.createElement(ke,{table:this.props.view.table,limit:"5"}),r.a.createElement(_e,{relatedArtists:this.props.view.relatedArtists})),r.a.createElement(se,{grid:this.props.view.grid})):r.a.createElement(re,null)}}]),n}(r.a.Component),Te=Object(s.b)((function(e){return{uri:e.uri,view:e.view,player:e.player}}),{getView:Q,setView:q})(Se),ze=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.getSavedTracks()}},{key:"componentDidUpdate",value:function(e){(e.view||{}).grid&&(this.props.view||{}).grid&&this.props.uri!==e.uri&&this.props.getView({uri:e.uri})}},{key:"render",value:function(){return(this.props.view||{}).grid?r.a.createElement("div",{className:"saved-tracks"},r.a.createElement(se,{grid:this.props.view.grid})):r.a.createElement(re,null)}}]),n}(r.a.Component),Ce=Object(s.b)((function(e){return{view:e.view,player:e.player}}),{setView:q,getSavedTracks:$})(ze),Ae=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentWillMount",value:function(){this.props.getView({uri:this.props.uri})}},{key:"componentDidUpdate",value:function(e){(e.view||{}).table&&(this.props.view||{}).table&&this.props.uri!==e.uri&&this.props.getView({uri:e.uri})}},{key:"render",value:function(){return(this.props.view||{}).table?r.a.createElement("div",{className:"playlist"},r.a.createElement(ge,{header:this.props.view.header}),r.a.createElement(ke,{table:this.props.view.table})):r.a.createElement(re,null)}}]),n}(r.a.Component),Ie=Object(s.b)((function(e){return{view:e.view,uri:e.uri}}),{getView:Q,setView:q})(Ae),Ve=function(e){var t=e.uri;return r.a.createElement(r.a.Fragment,null,e.uri.indexOf("album")>=0?r.a.createElement(Ie,null):t.indexOf("artist")>=0?r.a.createElement(Te,null):t.indexOf("playlist")>=0?r.a.createElement(je,null):t.indexOf("home")>=0?r.a.createElement(de,null):t.indexOf("saved-tracks")>=0?r.a.createElement(Ce,null):"Page not defined")},Pe=n(36),Le=n.n(Pe);function Be(){var e=Object(ee.a)(["\n    @font-face {\n        font-family: 'Cooper Black';\n        src: url(",'/assets/cooper_black.ttf);\n    }\n\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    font-family: "Cooper Black";\n    background: rgba(28,28,28);\n    border: 2em solid #ffffff;\n    color: #fff;\n    overflow: none;\n    height: 100vh;\n    text-align: center;\n\n    .title {\n        padding: 20px;\n        font-size: 2em;\n        p {\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        border: 1px solid #ffffff;\n        font-size: 17px;\n        color: #ffffff;\n    }\n']);return Be=function(){return e},e}var Re=te.a.div(Be(),"."),Ue=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"onSuccess",value:function(e){this.props.login(e)}},{key:"onFailure",value:function(e){console.log("fail",e)}},{key:"logout",value:function(){this.props.logout()}},{key:"render",value:function(){var e=this;return r.a.createElement(Re,{style:{backgroundImage:"url('".concat(".","/assets/background.jpg')"),backgroundSize:"cover"}},r.a.createElement("div",{className:"login container"},r.a.createElement(Le.a,{className:"btn",clientId:"38a9d82012ce4dcc81269de4479a74fa",redirectUri:"https://kenjikatahira.github.io/react-spotify-player/",onSuccess:function(t){e.onSuccess(t)},onFailure:this.onFailure,scope:"user-read-private user-library-read user-read-playback-state user-read-playback-position user-modify-playback-state user-top-read user-read-recently-played streaming user-read-email"})))}}]),n}(r.a.Component),Ge=Object(s.b)((function(e){return{user:e.user}}),{login:function(e){return function(t){!function(e){var t=e.access_token,n=e.token_type,a=e.expires_in,r=(new Date).valueOf()+36e5;localStorage.setItem("access_token",t),localStorage.setItem("token_type",n),localStorage.setItem("expires_in",a),localStorage.setItem("expires_at",r),console.log("setsession")}(e),t({type:"LOGIN",payload:{status:!0,access_token:b().access_token}})}},logout:Z})(Ue),De=function(e){return r.a.createElement("svg",{viewBox:"0 0 1134 340",className:"spotify-logo"},r.a.createElement("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"}))};function Fe(){var e=Object(ee.a)(['\n    list-style: none;\n    padding: 15px;\n    white-space: nowrap;\n    color : #B3B3B3;\n    background: #000;\n\n    .logo-wrapper {\n        display:flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        .spotify-logo {\n            width:120px;\n            padding-right: 0;\n            padding-left:5px;\n            display:inline-block;\n            color:#fff;\n            align-self: center;\n        }\n\n        .made {\n            padding: 10px 0;\n            margin-left: 5px;\n            align-self: center;\n            font-size: 14px;\n            text-align: center;\n        }\n    }\n\n    .fixed-pages {\n        position: sticky;\n\n        li {\n            padding: 0;\n            margin-bottom: 15px;\n            font-size: 14px;\n            font-weight: 700;\n            svg {\n                margin-right: 10px;\n                font-weight: 500;\n                font-size: 18px;\n            }\n        }\n    }\n\n    hr   {\n        display: block;\n        unicode-bidi: isolate;\n        margin-block-start: 0.9em;\n        margin-block-end: 0.9em;\n        margin-inline-start: auto;\n        margin-inline-end: auto;\n        background: #282828;\n    }\n\n    li {\n        position:relative;\n        padding: 0;\n        cursor: pointer;\n        font-size: 13px;\n        font-weight: 800;\n        margin-bottom: 8px;\n\n        &.lead {\n            margin-bottom: 0;\n            font-size: 14px;\n            font-weight: 100;\n            text-transform: uppercase;\n            margin-bottom: 10px;\n        }\n\n        &.active:before {\n            content : "";\n            border-left: 3px solid #1db954;\n            position: absolute;\n            height: 17px;\n            left: -8px;\n            top: 0;\n        }\n\n        &:hover:after {\n                content: attr(data-owner);\n                position: relative;\n                height:10px;\n                font-size: 12px;\n                left: 0px;\n                color: #ccc;\n                white-space: nowrap;\n        }\n    }\n']);return Fe=function(){return e},e}var We=te.a.ul(Fe()),Me=function(e){var t=e.playlists,n=e.setView,a=e.uri,i=(e.logout,e.getPlaylists);!Object.keys(t).length&&i&&i();var o=[{name:"Home",uri:"home",icon:r.a.createElement("i",{className:"fas fa-home"},"home")},{el:r.a.createElement("li",{key:"your-library",className:"lead"}," Your Library ")},{name:"Saved",uri:"saved-tracks"},{el:r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:"separator"}),r.a.createElement("li",{key:"lead-playlists",className:"lead"}," Playlists "))}],c=function(e){var t=((e||{}).owner||{}).display_name;return e.el?e.el:r.a.createElement("li",{key:e.uri,className:a===e.uri?"active":"","data-owner":t?" * by ".concat(t):"",id:e.uri,onClick:function(){return n({uri:e.uri})}},e.icon?e.icon:""," ",e.name)};return(t.items||[]).length?r.a.createElement(We,{className:"menu"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(De,null),r.a.createElement("span",{className:"made"},r.a.createElement("a",{href:"https://github.com/kenjikatahira/react-spotify-player/"},"github"))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"fixed-pages"},o.map((function(e){return c(e)}))),r.a.createElement("div",{className:"playlists-wrapper"},t.items.map((function(e){return c(e)})))):r.a.createElement(We,{className:"menu"},r.a.createElement("div",{className:"fixed-pages"},o.map((function(e){return c(e)}))))};function Ye(){var e=Object(ee.a)(['\n    display: grid;\n    grid-template-columns: 33%;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main";\n\n    text-align: center;\n    font-size: 13px;\n    height:8vh;\n\n    .image {\n        grid-area: sidebar;\n        align-self: center;\n        img {\n            height:8vh;\n            padding: 6px;\n        }\n    }\n\n    .info {\n        grid-area: main;\n        align-self: center;\n        justify-self: start;\n        white-space: nowrap;\n        .playing-artist {\n            text-align: left;\n            color: #999;\n        }\n    }\n']);return Ye=function(){return e},e}var Ke=te.a.div(Ye()),He=function(e){var t=e.current_track,n=((((t||{}).album||{}).images||[])[0]||{}).url,a=(t||{}).name,i=(((t||{}).artists||[])[0]||{}).name;return r.a.createElement(Ke,{className:"now-playing-info"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:n,alt:n})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"track"},r.a.createElement("b",null,a)),r.a.createElement("div",{className:"playing-artist"},i)))};function Je(){var e=Object(ee.a)(["\n    text-align: center;\n    font-size: 13px;\n"]);return Je=function(){return e},e}var $e=te.a.div(Je()),qe=function(e){var t=e.count,n=e.fixed;return r.a.createElement($e,{className:"timer"},E(n||t))},Qe=function(e){var t=e.current_state,n=e.fixed,i=t.paused,o=t.position,c=t.current_track,s=Object(a.useState)({count:o||0,current_track:c}),l=Object(L.a)(s,2),u=l[0],p=l[1];(c||{}).id!==(u.current_track||{}).id&&p({count:0,current_track:c});var d=function(e){({start:function(){return setTimeout((function(){p({count:u.count+1e3,current_track:c})}),1e3)},stop:function(){({}).start&&clearTimeout((void 0).start)}})[e]()};return Object(a.useEffect)((function(){i||void 0===o?i&&d("stop"):d("start")})),r.a.createElement(qe,{count:u.count,fixed:n})};function Xe(){var e=Object(ee.a)(['\n    background-color: #282828;\n    border-top: 1px solid #000;\n    display: grid;\n    grid-template-columns: 20%;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main ."\n      "footer footer footer footer";\n\n    .playing-wrapper {\n        grid-area: sidebar;\n    }\n    .inner-now-playing {\n        grid-area: main;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        .controls-buttons {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-around;\n            align-self: center;\n            width: 150px;\n\n            .control-button {\n                color: #b3b3b3;\n                position: relative;\n                width: 32px;\n                min-width: 32px;\n                height: 32px;\n\n                &.play {\n                    border: 1px solid #b3b3b3;\n                    border-radius: 32px;\n                }\n\n                svg {\n                    position: relative;\n                    top: -3px;\n                    left: -3px;\n                    height: 15px;\n                    width: 15px;\n                }\n            }\n        }\n\n        .playback-bar {\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            width: 45%;\n            max-width: 722px;\n            align-self: center;\n            align-items: center;\n\n            .playback-progress-bar {\n                width: 100%;\n                margin: 0 10px;\n\n                .progress-bar-inner {\n                    background-color: #b3b3b3;\n                    border-radius: 2px;\n                    height: 4px;\n                    width: 100%;\n                }\n            }\n        }\n    }\n']);return Xe=function(){return e},e}var Ze=te.a.div(Xe()),et=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(){this.props.player&&this.props.player.addListener&&!this.connected&&this.configurePlayer(this.props.player)}},{key:"onChange",value:function(e){this.props.setCurrentState(e)}},{key:"configurePlayer",value:function(e){e&&(e.addListener("ready",(function(e){return function(e){console.log("Ready - Device ID - Localstorage",e),localStorage.setItem("device_id",e)}(e.device_id)})),e.addListener("player_state_changed",this.onChange.bind(this)),e.connect(),this.connected=!0)}},{key:"togglePlayButton",value:function(){var e=this,t=this.props.current_state.paused;return void 0===t||t?r.a.createElement("button",{className:"btn btn-outline-secondary control-button play",onClick:function(){e.props.player.resume()}},r.a.createElement("i",{className:"fas fa-play"})):r.a.createElement("button",{className:"btn btn-outline-secondary control-button play",onClick:this.props.player.pause},r.a.createElement("i",{className:"fas fa-pause",onClick:this.props.player.pause}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.player,a=t.current_state,i=a.current_track;return r.a.createElement(Ze,{className:"now-playing"},r.a.createElement("div",{className:"playing-wrapper"},r.a.createElement(He,{current_track:i})),r.a.createElement("div",{className:"inner-now-playing"},r.a.createElement("div",{className:"controls-buttons"},r.a.createElement("button",{className:"btn control-button",onClick:function(){n.previous(e.teste)}},r.a.createElement("i",{className:"fas fa-backward"})),this.togglePlayButton(),r.a.createElement("button",{className:"btn control-button",onClick:n.next},r.a.createElement("i",{className:"fas fa-forward"}))),r.a.createElement("div",{className:"playback-bar"},r.a.createElement(Qe,{current_state:a}),r.a.createElement("div",{className:"playback-progress-bar"},r.a.createElement("div",{className:"progress-bar-inner"})),(i||{}).duration_ms&&r.a.createElement(qe,{fixed:(i||{}).duration_ms}))))}}]),n}(r.a.Component),tt=Object(s.b)((function(e){return{device_id:e.device_id,player:e.player,current_state:e.current_state}}),{setCurrentState:function(e){return function(t){var n=e.position,a=e.duration,r=e.paused,i=e.shuffle,o=e.repeat_mode,c=e.track_window;t({type:"SET_CURRENT_STATE",payload:{position:n,duration:a,paused:r,shuffle:i,repeat_mode:o,current_track:c.current_track,next_tracks:c.next_tracks,previous_tracks:c.previous_tracks}})}}})(et);function nt(){var e=Object(ee.a)(['\n    display: grid;\n    grid-template-columns: 14vw;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main main main main"\n      "footer footer footer footer footer footer"\n      "devicesBar devicesBar devicesBar devicesBar devicesBar devicesBar";\n    overflow: hidden;\n    font-family: "Lato";\n    color: #F5F5F5;\n    overflow: none;\n\n    a {\n        color: #F5F5F5;\n    }\n\n    .github {\n        position: absolute;\n        top:0;\n        right:0;\n        z-index:1000;\n        width:120px;\n        img {\n            width: 120px;\n            height: 120px;\n        }\n    }\n\n    .search {\n        padding: 8px 69px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n        }\n    }\n\n\n    .menu-wrapper, .browser-wrapper {\n        position: relative;\n        overflow-x: hidden;\n        overflow-y: auto;\n        height: 89vh;\n\n        &::-webkit-scrollbar {\n            width: 1em;\n        }\n        &::-webkit-scrollbar-thumb {\n            min-height: 30px;\n            max-height: none;\n            background: hsla(0,0%,100%,.3);\n        }\n    }\n\n    .menu-wrapper {\n        grid-area: sidebar;\n        background: #000;\n        justify-content: stretch;\n        &::-webkit-scrollbar {\n            background: #000;\n        }\n    }\n\n    .browser-wrapper {\n        grid-area: main;\n        background: rgb(2,0,36);\n        background: linear-gradient(0deg, rgba(28,28,28,1) 0%, rgba(28,28,28,1) 70%, rgba(87,87,87,1) 100%);\n        background-position: fixed;\n        .browser-inner-wrapper {\n            max-width: 100%;\n            margin-bottom: 1em;\n        }\n    }\n\n    .now-playing-wrapper {\n        position: relative;\n        width: 100%;\n        background-color: #282828;\n        grid-area: footer;\n    }\n\n    .devices-bar-wrapper {\n        grid-area: devicesBar;\n    }\n']);return nt=function(){return e},e}var at=te.a.div(nt()),rt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={initiated:!1},e}return Object(m.a)(n,[{key:"run",value:function(){this.props.getRecentlyTracks(),this.props.getPlayer(),this.setState({initiated:!0})}},{key:"UNSAFE_componentWillUpdate",value:function(){!this.state.initiated&&!0===this.props.logged.status&&this.run()}},{key:"componentDidMount",value:function(){var e=this;window.onSpotifyWebPlaybackSDKReady=function(){var t=window.localStorage.getItem("last_uri");e.props.setView(t?{uri:t}:"")}}},{key:"onSearchChange",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this.props,t=e.logged,n=e.uri,a=e.tracks,i=e.getPlaylists,o=e.logout,c=e.setView,s=e.playlists;return t.status?r.a.createElement(at,{className:"main"},r.a.createElement("div",{className:"menu-wrapper"},r.a.createElement(Me,{getPlaylists:i,logout:o,setView:c,playlists:s,uri:n})),r.a.createElement("div",{className:"browser-wrapper"},r.a.createElement("div",{className:"browser-inner-wrapper"},r.a.createElement(Ve,{uri:n,tracks:a}))),r.a.createElement("div",{className:"now-playing-wrapper"},r.a.createElement(tt,null))):r.a.createElement(Ge,null)}}]),n}(r.a.Component),it=Object(s.b)((function(e){return{user:e.user,logged:e.logged,playlists:e.playlists,uri:e.uri,devices:e.devices}}),{logout:Z,getUser:function(){return function(e){_.a.get("https://api.spotify.com/v1/me",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}}).then((function(t){e({type:"GET_USER",payload:t.data})}))}},getPlaylists:function(){return function(e){_.a.get("https://api.spotify.com/v1/me/playlists?limit=30&offset=0",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b().access_token)}}).then((function(t){var n=t.data;e({type:"GET_PLAYLISTS",payload:n})}))}},setView:q,getPlayer:function(){return function(e){e({type:"GET_PLAYER",payload:H()})}},getRecentlyTracks:function(){return function(){var e=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:n=e.sent,a=n.data,t({type:"GET_RECENTLY_TRACKS",payload:a.items[0].track});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(rt),ot=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.isLogged()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(it,null))}}]),n}(r.a.Component),ct=Object(s.b)((function(e){return{logged:e.logged}}),{isLogged:function(){return function(e){e({type:"ISLOGGED",payload:{status:w(),access_token:b().access_token}})}}})(ot),st=Object(l.d)(p,Object(l.a)(i.a));c.a.render(r.a.createElement(s.a,{store:st},r.a.createElement(ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.f82f8629.chunk.js.map