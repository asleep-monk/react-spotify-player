(this["webpackJsonpreact-spotify-player"]=this["webpackJsonpreact-spotify-player"]||[]).push([[0],{29:function(e,n,t){e.exports=t.p+"static/media/Rolling-1.2s-184px.f6b49911.gif"},32:function(e,n,t){e.exports=t(56)},37:function(e,n,t){},56:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(22),c=t.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(1),s=(t(37),t(4)),l=t.n(s),u=t(7),p=function(){return m()?{access_token:localStorage.getItem("access_token"),token_type:localStorage.getItem("token_type")}:(localStorage.removeItem("access_token"),localStorage.removeItem("token_type"),localStorage.removeItem("expires_in"),localStorage.removeItem("expires_at"),console.log("removesession"),{})},d=function(){return localStorage.getItem("device_id")},m=function(){var e=JSON.parse(localStorage.getItem("expires_at"));return e&&(new Date).valueOf()<e},f=function(e,n){var t=n.indexOf(e),a=[],r=[],i=!1;return n.forEach((function(e,n){n===t&&(i=!0),i?r.includes(e)||r.push(e):a.push(e)})),a.forEach((function(e){r.push(e)})),r},g=function(e){var n=Math.floor(e/6e4),t=(e%6e4/1e3).toFixed(0);return"".concat(n,":").concat(t<10?"0":"").concat(t)},h=t(23),b=t(24),y=t(31),v=t(30),x=t(2),k=t(25),w=t.n(k),E=t(3),j=t(5),O=t.n(j),N=function(){return O.a.get("https://api.spotify.com/v1/me/player/recently-played",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},_=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/albums/"+n[n.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},z=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/".concat(n[n.length-1],"/albums"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},S=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/".concat(n[n.length-1],"/images"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},B=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/".concat(n[n.length-1],"/tracks"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},T=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/playlists/"+n[n.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},C=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/".concat(n[n.length-1],"/top-tracks?country=BR"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},P=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/"+n[n.length-1],{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})},A=function(e){var n=e.uri.split(":");return O.a.get("https://api.spotify.com/v1/artists/"+n[n.length-1]+"/related-artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})};function I(){var e=Object(x.a)(["\n    @font-face {\n        font-family: 'Cooper Black';\n        src: url(",'/assets/cooper_black.ttf);\n    }\n\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    font-family: "Cooper Black";\n    background: rgba(28,28,28);\n    border: 2em solid #ffffff;\n    color: #fff;\n    overflow: none;\n    height: 100vh;\n    text-align: center;\n\n    .title {\n        padding: 20px;\n        font-size: 2em;\n        p {\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        border: 1px solid #ffffff;\n        font-size: 17px;\n        color: #ffffff;\n    }\n']);return I=function(){return e},e}var U=E.a.div(I(),"."),F=function(e){Object(y.a)(t,e);var n=Object(v.a)(t);function t(){return Object(h.a)(this,t),n.apply(this,arguments)}return Object(b.a)(t,[{key:"onSuccess",value:function(e){this.props.onLogin(e)}},{key:"onFailure",value:function(e){throw new Error(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(U,{style:{backgroundImage:"url('".concat(".","/assets/background.jpg')"),backgroundSize:"cover"}},r.a.createElement("div",{className:"login container"},r.a.createElement(w.a,{className:"btn",clientId:"38a9d82012ce4dcc81269de4479a74fa",redirectUri:"https://kenjikatahira.github.io/react-spotify-player/",onSuccess:function(n){e.onSuccess(n)},onFailure:this.onFailure,scope:"user-read-private user-library-read user-read-playback-state user-read-playback-position user-modify-playback-state user-top-read user-read-recently-played streaming user-read-email"})))}}]),t}(r.a.Component),L=t(10),D=function(e){try{fetch("https://api.spotify.com/v1/me/player/previous",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})}catch(n){W({uri:e})}},R=function(){fetch("https://api.spotify.com/v1/me/player/next",{method:"POST",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})},M=function(){fetch("https://api.spotify.com/v1/me/player/pause",{method:"PUT",headers:{"content-type":"application/json",authorization:"".concat(p().token_type," ").concat(p().access_token)}})},J=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(d()),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.uri,a=n.uris,r=f(t,(a||[]).map((function(e){return e.uri}))),fetch("https://api.spotify.com/v1/me/player/play?device_id=".concat(d()),{method:"PUT",body:JSON.stringify({uris:r.length?r:[t]}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){console.log("____init___");var e=new window.Spotify.Player({playerInstance:new window.Spotify.Player({name:"Kenjicas Player"}),name:"Kenjicas Player",getOAuthToken:function(e){return e(p().access_token)}});return e.play=W,e.next=R,e.previous=D,e.pause=M,e.resume=J,e},K=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"!==(t=n.uri)){e.next=7;break}return e.next=4,V();case 4:a=e.sent,e.next=29;break;case 7:if("recently-tracks"!==t){e.next=13;break}return e.next=10,$();case 10:a=e.sent,e.next=29;break;case 13:if(!(t.split(":").indexOf("album")>=0)){e.next=19;break}return e.next=16,q(t);case 16:a=e.sent,e.next=29;break;case 19:if(!(t.split(":").indexOf("playlist")>=0)){e.next=25;break}return e.next=22,G(t);case 22:a=e.sent,e.next=29;break;case 25:if(!(t.split(":").indexOf("artist")>=0)){e.next=29;break}return e.next=28,Q(t);case 28:a=e.sent;case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t,a,r,i,c,s,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[N(),O.a.get("https://api.spotify.com/v1/browse/featured-playlists?country=BR&limit=4",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}}),O.a.get("https://api.spotify.com/v1/me/top/artists",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}})],e.next=4,Promise.all(Object.values(n));case 4:return t=e.sent,a=Object(o.a)(t,3),r=a[0].data,i=a[1].data,c=a[2].data,s=function(e){var n=[],t=e.items.map((function(e){return e.track.album}));return t=t.filter((function(e){return!n.includes(e.id)&&(n.push(e.id),e)})),{href:e.href,message:"Recently Played",items:t,type:"recently-played"}},u=function(e){return{message:e.message,items:e.playlists.items,type:"playlists"}},d=function(e){return{message:"Top Artists",items:e.items,type:"top-artists"}},e.abrupt("return",{type:"home",grid:{featuredPlaylists:u(i),top_artists:d(c),recentlyTracks:s(r)}});case 15:throw e.prev=15,e.t0=e.catch(0),new Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),$=function(){return function(e){N().then((function(n){var t=n.data;e({type:"GET_VIEW",payload:{grid:function(e){var n=[],t=e.items.map((function(e){return e.track.album}));return{recentlyTracks:{message:"Recently Played",items:t=t.filter((function(e){return!n.includes(e.id)&&(n.push(e.id),e)})),type:"recently-tracks"}}}(t)}})})).catch((function(e){return console.log(e)}))}},Y=function(e){if(!e)return!1;var n=e.reduce((function(e,n){return e+n.duration_ms}),0);return g(Math.floor(n/60))},G=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r,i,c,s,u,p,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},a={playlist:B({uri:n}),playlistInfo:T({uri:n}),playlistCover:S({uri:n})},e.next=5,Promise.all(Object.values(a));case 5:return r=e.sent,i=Object(o.a)(r,3),c=i[0],s=i[1],u=i[2],p=Object(o.a)(u.data,1),d=p[0],t.tracks=c.data.items.map((function(e){return e.track})).filter((function(e){return e})),m=function(e){return{head:["name","artist","album","duration"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:g(e.duration_ms),album:e.album,artists:e.artists,uri:e.uri}}))}},e.abrupt("return",{type:"playlist",header:{type:"playlist",name:s.data.name,image:d,tracks:m(t).body,total_duration:Y(t.tracks),owner:s.data.owner,followers:s.data.followers.total,description:s.data.description,public:s.data.public},table:m(t)});case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(n){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_({uri:n});case 3:return t=e.sent,a=t.data,r=Object(o.a)(a.images,1),i=r[0],console.log(a),console.log(a.release_date.replace(/(\d{4})-\d{2}-\d{2}/g,"$1")),c=function(e){return{head:["name","artist","duration"],body:e.tracks.items.map((function(e){return{id:e.id,name:e.name,duration_ms:g(e.duration_ms),uri:e.uri,artists:e.artists}}))}},e.abrupt("return",{type:"album",releaseDate:a.release_date.replace(/(\d{4})-\d{2}-\d{2}/g,"$1"),label:a.label,header:{name:a.name,image:i,tracks:c(a).body,total_duration:Y(a.tracks.items)},table:c(a)});case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,a,r,i,c,s,u,p,d,m,f,h,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,P({uri:n});case 4:return a=e.sent,r=a.data,e.next=8,C({uri:n});case 8:return i=e.sent,c=i.data,e.next=12,z({uri:n});case 12:return s=e.sent,u=s.data,e.next=16,A({uri:n});case 16:return p=e.sent,d=p.data,m=Object(o.a)(r.images,1),f=m[0],t.tracks||(t.tracks=c.tracks),h=function(e){var n=[],t={},a={message:"Albums",type:"artist",items:e.items.filter((function(e){return!n.includes(e.name)&&"album"===e.album_type&&(n.push(e.name),!0)}))},r={message:"Singles",type:"artist",items:e.items.filter((function(e){return!n.includes(e.name)&&"single"===e.album_type&&(n.push(e.name),!0)}))};return a.items.length&&(t._albums=a),r.items.length&&(t._singles=r),t},b=function(e){return{head:["Popular"],body:e.tracks.map((function(e){return{id:e.id,name:e.name,duration_ms:g(e.duration_ms),uri:e.uri}}))}},e.abrupt("return",{type:"artist",header:{type:"artist",name:r.name,image:f,tracks:b(t).body},table:b(t),grid:h(u),relatedArtists:d});case 25:e.prev=25,e.t0=e.catch(0),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me/playlists?limit=20&offset=0",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return n=e.sent,t=n.data,e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.spotify.com/v1/me",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(p().access_token)}});case 3:return n=e.sent,t=n.data,e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ee=function(e){return r.a.createElement("svg",{viewBox:"0 0 1134 340",className:"spotify-logo"},r.a.createElement("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"}))};function ne(){var e=Object(x.a)(['\n    list-style: none;\n    padding: 15px;\n    white-space: nowrap;\n    color : #B3B3B3;\n    background: #000;\n\n    .logo-wrapper {\n        display:flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        .spotify-logo {\n            width:120px;\n            padding-right: 0;\n            padding-left:5px;\n            display:inline-block;\n            color:#fff;\n            align-self: center;\n        }\n\n        .made {\n            padding: 10px 0;\n            margin-left: 5px;\n            align-self: center;\n            font-size: 14px;\n            text-align: center;\n        }\n    }\n\n    .fixed-pages {\n        position: sticky;\n\n        li {\n            padding: 0;\n            margin-bottom: 15px;\n            font-size: 14px;\n            font-weight: 700;\n            svg {\n                margin-right: 10px;\n                font-weight: 500;\n                font-size: 18px;\n            }\n        }\n    }\n\n    hr   {\n        display: block;\n        unicode-bidi: isolate;\n        margin-block-start: 0.9em;\n        margin-block-end: 0.9em;\n        margin-inline-start: auto;\n        margin-inline-end: auto;\n        background: #282828;\n    }\n\n    li {\n        position:relative;\n        padding: 0;\n        cursor: pointer;\n        font-size: 13px;\n        font-weight: 800;\n        margin-bottom: 8px;\n\n        &.lead {\n            margin-bottom: 0;\n            font-size: 14px;\n            font-weight: 100;\n            text-transform: uppercase;\n            margin-bottom: 10px;\n        }\n\n        &.active:before {\n            content : "";\n            border-left: 3px solid #1db954;\n            position: absolute;\n            height: 17px;\n            left: -8px;\n            top: 0;\n        }\n\n        &:hover:after {\n                content: attr(data-owner);\n                position: relative;\n                height:10px;\n                font-size: 12px;\n                left: 0px;\n                color: #ccc;\n                white-space: nowrap;\n        }\n    }\n']);return ne=function(){return e},e}var te=E.a.ul(ne()),ae=[{name:"Home",uri:"home",icon:r.a.createElement("i",{key:"home",className:"fas fa-home"},"home")},{name:"Browse",uri:"browse",icon:r.a.createElement("i",{key:"browse",className:"fa fa-folder-open","aria-hidden":"true"})},{el:r.a.createElement("li",{key:"your-library",className:"lead"}," Your Library ")},{name:"Saved",uri:"saved-tracks"},{name:"Recently Played",uri:"recently-tracks"},{name:"Liked Songs",uri:"liked-songs"},{name:"Albums",uri:"albums"},{name:"Bands",uri:"bands"},{name:"Podcasts",uri:"podcasts"},{el:r.a.createElement("hr",{key:"sep",className:"separator"})},{el:r.a.createElement("li",{key:"lead-playlists",className:"lead"}," Playlists ")}],re=function(e){var n=e.uri,t=e.setUri,i=Object(a.useState)(null),c=Object(o.a)(i,2),s=c[0],l=c[1];Object(a.useEffect)((function(){s||X().then(l)}),[s]);var u=function(e,a){var i=((e||{}).owner||{}).display_name;return e.el?e.el:r.a.createElement("li",{key:e.uri+"#"+a,className:n===e.uri?"active":"","data-owner":i?" * by ".concat(i):"",id:e.uri,onClick:function(){return t(e.uri)}},e.icon?e.icon:""," ",e.name)};return((s||{}).items||[]).length?r.a.createElement(te,{className:"menu"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(ee,null),r.a.createElement("span",{className:"made"},r.a.createElement("a",{target:"_blank",href:"https://github.com/kenjikatahira/react-spotify-player/"},"github"))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"fixed-pages"},ae.map((function(e){return u(e)}))),r.a.createElement("div",{className:"playlists-wrapper"},s.items.map((function(e){return u(e)})))):r.a.createElement(te,{className:"menu"},r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(ee,null),r.a.createElement("span",{className:"made"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kenjikatahira/react-spotify-player/"},"github"))),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"fixed-pages"},ae.map((function(e){return u(e)}))))};function ie(){var e=Object(x.a)(['\n    display: grid;\n    grid-template-columns: 33%;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main";\n\n    text-align: center;\n    font-size: 13px;\n    height:8vh;\n\n    .image {\n        grid-area: sidebar;\n        align-self: center;\n        img {\n            height:8vh;\n            padding: 6px;\n        }\n    }\n\n    .info {\n        grid-area: main;\n        align-self: center;\n        justify-self: start;\n        white-space: nowrap;\n        .playing-artist {\n            text-align: left;\n            color: #999;\n        }\n    }\n']);return ie=function(){return e},e}var ce=E.a.div(ie()),oe=function(e){var n=e.currentTrack,t=((((n||{}).album||{}).images||[])[0]||{}).url,a=(n||{}).name,i=(((n||{}).artists||[])[0]||{}).name;return r.a.createElement(ce,{className:"now-playing-info"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t,alt:t})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"track"},r.a.createElement("b",null,a)),r.a.createElement("div",{className:"playing-artist"},i)))};function se(){var e=Object(x.a)(["\n    text-align: center;\n    font-size: 13px;\n"]);return se=function(){return e},e}var le=E.a.div(se()),ue=function(e){var n=e.count,t=e.fixed;return r.a.createElement(le,{className:"timer"},g(t||n))},pe=function(e){var n=e.currentTrack,t=e.fixed,i=e.onChangePosition,c=n.paused,s=n.position,l=Object(a.useState)({count:s||0,currentTrack:n}),u=Object(o.a)(l,2),p=u[0],d=u[1];(n||{}).id!==(p.currentTrack||{}).id&&d({count:0,currentTrack:n});var m=function(e){({start:function(){return setTimeout((function(){d({count:p.count+1e3,currentTrack:n}),i(p.count)}),1e3)},stop:function(){({}).start&&clearTimeout((void 0).start)}})[e]()};return Object(a.useEffect)((function(){c||void 0===s?c&&m("stop"):m("start")})),r.a.createElement(ue,{count:p.count,fixed:t})};function de(){var e=Object(x.a)(['\n    background-color: #282828;\n    border-top: 1px solid #000;\n    display: grid;\n    grid-template-columns: 20%;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main ."\n      "footer footer footer footer";\n\n    .playing-wrapper {\n        grid-area: sidebar;\n    }\n    .inner-now-playing {\n        grid-area: main;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        .controls-buttons {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-around;\n            align-self: center;\n            width: 150px;\n\n            .control-button {\n                color: #b3b3b3;\n                position: relative;\n                width: 32px;\n                min-width: 32px;\n                height: 32px;\n\n                &.play {\n                    border: 1px solid #b3b3b3;\n                    border-radius: 32px;\n                }\n\n                svg {\n                    position: relative;\n                    top: -3px;\n                    left: -3px;\n                    height: 15px;\n                    width: 15px;\n                }\n            }\n        }\n\n        .playback-bar {\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            width: 45%;\n            max-width: 722px;\n            align-self: center;\n            align-items: center;\n\n            .playback-progress-bar {\n                width: 100%;\n                margin: 0 10px;\n                background-color:#1a1a1a;\n                .progress-bar-inner {\n                    background-color: #b3b3b3;\n                    border-radius: 2px;\n                    height: 4px;\n                    width: 0;\n                }\n            }\n        }\n    }\n']);return de=function(){return e},e}var me=E.a.div(de()),fe=function(e){var n=e.player,t=e.currentTrack,i=Object(a.useState)(0),c=Object(o.a)(i,2),s=c[0],l=c[1];return 0===Object.keys(n||{}).length?r.a.createElement("div",{className:"now-playing"},"n\xe3o existe"):r.a.createElement(me,{className:"now-playing"},r.a.createElement("div",{className:"playing-wrapper"},r.a.createElement(oe,{currentTrack:t})),r.a.createElement("div",{className:"inner-now-playing"},r.a.createElement("div",{className:"controls-buttons"},r.a.createElement("button",{className:"btn control-button",onClick:n.prev},r.a.createElement("i",{className:"fas fa-backward"})),function(){var e=(t||{}).paused;return!1===e||null===e?r.a.createElement("button",{className:"btn btn-outline-secondary control-button play",onClick:n.pause},r.a.createElement("i",{class:"fas fa-pause"})):r.a.createElement("button",{className:"btn btn-outline-secondary control-button play",onClick:function(){n.resume()}},r.a.createElement("i",{className:"fas fa-play"}))}(),r.a.createElement("button",{className:"btn control-button",onClick:n.next},r.a.createElement("i",{className:"fas fa-forward"}))),r.a.createElement("div",{className:"playback-bar"},r.a.createElement(pe,{currentTrack:t||{},onChangePosition:function(e){l(Math.floor(100*e/(t||{}).duration_ms))}}),r.a.createElement("div",{className:"playback-progress-bar"},r.a.createElement("div",{className:"progress-bar-inner",style:{width:s+"%"}})),(t||{}).duration_ms&&r.a.createElement(ue,{fixed:(t||{}).duration_ms}))))};function ge(){var e=Object(x.a)(["\n    width:90%;\n    margin:0 auto;\n\n    h2 {\n        margin: 26px 15px;\n        border-bottom: 1px solid #ffffff1a;\n        padding-bottom: 17px;\n    }\n\n    .albums-row {\n        display: flex;\n        flex-direction: row;\n        flex-flow: row wrap;\n        width: 100%;\n        padding: 10px 0;\n        margin-bottom: 25px;\n        padding: 10px;\n        overflow: auto;\n        max-width: 100%;\n        .album {\n            position: relative;\n            padding-right: 10px;\n            padding-left: 10px;\n            cursor: pointer;\n            .image {\n                width: 100%;\n                padding-bottom: 100%;\n            }\n            .card-title {\n                font-size: 14px;\n            }\n            .card-body {\n                padding: 10px 0;\n            }\n            .card-body .card-text {\n                display : block;\n                font-weight: bold;\n                font-size:13px;\n                padding: 0;\n                margin: 0;\n            }\n            .overlay {\n                position: absolute;\n                bottom:0;\n                left:0;\n                right:0;\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n                opacity: 0;\n                margin-bottom:50%;\n            }\n            &:hover .overlay {\n                opacity: 1;\n            }\n        }\n    }\n"]);return ge=function(){return e},e}var he=E.a.div(ge()),be=function(e){var n=e.grid,t=(e.player,e.setUri),a=function(e){var n=e.images,a=e.uri,i=e.id,c=e.name,o=e.artists;return r.a.createElement("div",{className:"album col-xs-12 col-sm-6 col-md-4 col-lg-3",key:i},r.a.createElement("div",{className:"image",onClick:function(){t(a)},style:{backgroundImage:"url(".concat(n.length&&n[0].url,")"),backgroundSize:"cover",backgroundPosition:"center center"}}),r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},o&&o[0].name),r.a.createElement("p",{className:"card-title"},c)))};return r.a.createElement(he,{className:"grid"},Object.values(n||{}).map((function(e){var n=e.message,t=e.type,i=e.items;if(i)return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("h2",null," ",n," "),r.a.createElement("div",{className:"albums-row",key:t},i.map(a)))})))};function ye(){var e=Object(x.a)(["\n    width: 90%;\n    margin: 0 auto;\n"]);return ye=function(){return e},e}var ve=E.a.div(ye()),xe=function(e){var n=e.player,t=e.setUri,i=Object(a.useState)(null),c=Object(o.a)(i,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){s||K({uri:"home"}).then(l)}),[s]),r.a.createElement(ve,{className:"home"},r.a.createElement(be,{grid:(s||{}).grid,player:n,setUri:t}))},ke=t(29),we=t.n(ke),Ee=function(){return r.a.createElement("img",{src:we.a,alt:"loading"})};function je(){var e=Object(x.a)(["\n    position: relative;\n    display: grid;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    font-size: 28px;\n    height: 92vh;\n    img {\n        width: 90px;\n    }\n"]);return je=function(){return e},e}var Oe=E.a.div(je()),Ne=function(){return r.a.createElement(Oe,null,r.a.createElement("div",{className:"loading"},r.a.createElement(Ee,null)))};function _e(){var e=Object(x.a)(["\n    padding: 0 32px 24px;\n    .filter {\n        padding: 3px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n            background: inherit;\n            border-style: none;\n            color: #f5f5f5;\n        }\n    }\n    .toggleShow {\n        padding: 16px;\n        background: none;\n        border: none;\n        color: hsla(0,0%,100%,.7);\n    }\n    .copyright {\n        margin: 15px 0;\n        color: #aaa;\n    }\n    table {\n        list-style: none;\n        margin: 0;\n        padding: 10px;\n        color: #f5f5f5;\n\n        th {\n            color: #d1d1d1;\n            font-size: 13px;\n            text-transform: uppercase;\n            border-top: none;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            &:fist-child {\n                width: 30px;\n            }\n        }\n\n        tr {\n            &:not(.header):hover td {\n                background: rgba(255, 255, 255, 0.1);\n            }\n        }\n\n        td {\n            &:nth-child(1) {\n                width: 20px;\n            }\n            &:last-child {\n                width: 80px;\n                text-align: center;\n            }\n        }\n\n        tr,\n        td {\n            border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n            cursor: pointer;\n            padding: 8px;\n            white-space: nowrap;\n            max-width: 220px;\n            overflow: hidden;\n\n            &:hover {\n                .play {\n                    visibility: visible;\n                }\n            }\n\n            .play {\n                border: 1px solid #fff;\n                padding: 5px;\n                width: 20px;\n                height: 20px;\n                border-radius: 100%;\n                visibility: hidden;\n            }\n\n            span.link:hover {\n                border-bottom: 1px solid #fff;\n            }\n        }\n    }\n"]);return _e=function(){return e},e}var ze=E.a.div(_e()),Se=function(e){var n=e.table,t=e.player,i=e.limit,c=e.setUri,s=e.copyright,l=Object(a.useState)(i||null),u=Object(o.a)(l,2),p=u[0],d=u[1],m=Object(a.useState)([]),f=Object(o.a)(m,2),g=f[0],h=f[1],b=function(e,a){return r.a.createElement("tr",{key:e.id+"#"+a,onClick:function(){t.play({uri:e.uri,uris:n.body})}},r.a.createElement("td",null,r.a.createElement("span",null,r.a.createElement("i",{className:"play fas fa-play"}))),e.name&&r.a.createElement("td",null,r.a.createElement("span",null,e.name)),e.artists&&r.a.createElement("td",null,r.a.createElement("span",{className:"link"},e.artists&&Object.values(e.artists).map((function(n,t){return function(e){var n=e.artist,t=e.total,a=e.index,i=n.id,o=n.uri,s=n.name;return r.a.createElement("span",{key:i+"#"+a,onClick:function(e){e.stopPropagation(),c(o)}},t>1&&a!==t-1?"".concat(s,", "):s)}({artist:n,total:(e.artists||[]).length,index:t})})))),e.album&&r.a.createElement("td",null,r.a.createElement("span",{className:"link",onClick:function(n){return function(e,n){e.stopPropagation(),c(n.album.uri)}(n,e)}}," ",e.album.name," ")),e.duration_ms&&r.a.createElement("td",null,r.a.createElement("span",null," ",e.duration_ms," ")))};return r.a.createElement(ze,{className:"tracklist"},r.a.createElement("div",{className:"filter"},r.a.createElement("input",{type:"text",placeholder:"Filter",onChange:function(e){!function(e){h(n.body.filter((function(n){return n.name.toLowerCase().replace("\xe3","a").indexOf(e.target.value.toLowerCase())>-1})))}(e)}})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"header"},r.a.createElement("th",{scope:"col"}),n.head.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,((g||[]).length>0?g:n.body).map((function(e,n){return p?n<+p&&b(e,n):b(e,n)})))),p&&r.a.createElement("button",{className:"toggleShow",onClick:function(){d(5===+p?10:5)}},"show ",5===+p?"more":"less"),s&&r.a.createElement("div",{className:"copyright"},s))};function Be(){var e=Object(x.a)(['\n        padding: 15px 32px;\n        margin-bottom: 15px;\n        display: flex;\n        align-items: center;\n        .artwork-wrapper {\n            overflow: auto;\n            width: 240px;\n            .artwork {\n                width: 100%;\n                padding-bottom: 100%;\n            }\n        }\n\n        .info {\n            align-self: flex-end;\n            padding: 0 25px;\n            p { margin: 0; }\n            .info-type {\n                position: relative;\n                top: 5px;\n                text-transform: uppercase;\n                font-weight: 500;\n                font-size: 15px;\n            }\n            .info-name {\n                font-size: 64px;\n                line-height: 64px;\n                padding: 0.08em 0px;\n                font-weight: 600;\n                margin-bottom: 0;\n            }\n            .info-description {\n                max-width: 500px;\n            }\n            .info-details {\n                padding: 1px 0px 13px;\n                color:#aaa;\n            }\n            .info-tracks {\n                margin-right: 4px;\n            }\n            .info-owner {\n                strong { color:#fff; }\n                &:after {\n                    content:"*";\n                    padding: 0 6px;\n                }\n            }\n        }\n\n        .info-interactive {\n            .play {\n                cursor: pointer;\n                background: #1DB954;\n                border-radius: 15px;\n                font-size: 11px;\n                letter-spacing: 2px;\n                font-weight: bold;\n                width: 106px;\n                padding: 4px;\n                text-align: center;\n            }\n        }\n']);return Be=function(){return e},e}var Te=E.a.div(Be()),Ce=function(e){var n=e.player,t=e.header,a=t.tracks,i=t.image,c=t.name,o=t.description,s=t.owner,l=t.total_duration,u=t.type;return r.a.createElement(Te,{className:"tracklist-header"},i&&i.url&&r.a.createElement("div",{className:"artwork-wrapper"},r.a.createElement("div",{className:"artwork",style:{backgroundImage:"url(".concat(i.url,")"),backgroundSize:"cover",backgroundPosition:"center center"}})),r.a.createElement("div",{className:"col info d-flex flex-column"},r.a.createElement("strong",{className:"info-type"},u),r.a.createElement("h3",{className:"info-name"},c),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}}))}(o),r.a.createElement("div",{className:"info-details"},(s||{}).display_name&&r.a.createElement("span",{className:"info-owner"},"Created by ",r.a.createElement("strong",null,(s||{}).display_name)),"artist"!==u&&function(e){return r.a.createElement("span",{className:"info-tracks"},"".concat((e||[]).length," songs"))}(a),"artist"!==u&&l&&function(e){return r.a.createElement("span",{className:"info-duration"},"- ".concat(e," hrs"))}(l)),r.a.createElement("div",{className:"info-interactive"},r.a.createElement("div",{className:"play",onClick:function(){n.play({uris:a||[]})}}," PLAY "))))};function Pe(){var e=Object(x.a)(["\n"]);return Pe=function(){return e},e}var Ae=E.a.div(Pe()),Ie=function(e){var n=e.uri,t=e.setUri,i=e.player,c=e.setTopBar,s=Object(a.useState)(null),l=Object(o.a)(s,2),u=l[0],p=l[1];if(Object(a.useEffect)((function(){u?c(u.header.name):K({uri:n}).then(p)}),[u,n]),Object(a.useEffect)((function(){p(null)}),[n]),u){var d=u.table,m=u.header;return r.a.createElement(Ae,{className:"playlist"},r.a.createElement(Ce,{player:i,header:m}),r.a.createElement(Se,{table:d,setUri:t,player:i}))}return r.a.createElement(Ne,null)},Ue=function(e){var n=e.uri,t=e.player,i=e.setUri,c=Object(a.useState)(null),s=Object(o.a)(c,2),l=s[0],u=s[1];if(Object(a.useEffect)((function(){l||K({uri:n}).then(u)}),[l,n]),Object(a.useEffect)((function(){u(null)}),[n]),l){var p=l.table,d=l.header,m=l.label,f=l.releaseDate;return r.a.createElement("div",{className:"album"},r.a.createElement(Ce,{player:t,header:d}),r.a.createElement(Se,{table:p,setUri:i,player:t,copyright:"\xa9 ".concat(f," ").concat(m)}))}return r.a.createElement(Ne,null)};function Fe(){var e=Object(x.a)(["\n    padding: 15px 0;\n    ul {\n        padding: 0;\n        li {\n            display: flex;\n            flex-direction: row;\n            align-items : center;\n            list-style:none;\n            height: 50px;\n            cursor: pointer;\n            .image {\n                height:30px;\n                width: 30px;\n                border-radius: 50%;\n            }\n            .name {\n                padding-left: 10px;\n            }\n        }\n    }\n"]);return Fe=function(){return e},e}var Le=E.a.div(Fe()),De=function(e){var n=e.setUri,t=e.relatedArtists;return r.a.createElement(Le,{className:"relatedArtists"},r.a.createElement("h4",null,"Fans Also Like"),r.a.createElement("ul",null,t.artists.filter((function(e,n){return n<6})).map((function(e){return console.log(e),r.a.createElement("li",{key:e.id,onClick:function(){return n(e.uri)}},r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(e.images[2].url,")"),backgroundSize:"cover",backgroundPosition:"center center"}}),r.a.createElement("div",{className:"name"},e.name))}))))};function Re(){var e=Object(x.a)(['\n    padding: 20px 0;\n    .container {\n        margin-left: 20px;\n    }\n    .artist-top-related {\n        display: grid;\n        grid-template-columns: 14vw;\n        grid-template-rows: auto;\n        grid-template-areas:\n          "topTracks topTracks topTracks topTracks topTracks related";\n    }\n    .tracklist {\n        grid-area : topTracks;\n        padding: 15px 32px;\n    }\n    .related-artists {\n        grid-area : related;\n        padding: 0 5px 24px;\n    }\n']);return Re=function(){return e},e}var Me=E.a.div(Re()),Je=function(e){var n=e.uri,t=e.setUri,i=e.player,c=e.setTopBar,s=Object(a.useState)(null),l=Object(o.a)(s,2),u=l[0],p=l[1];if(Object(a.useEffect)((function(){u?c(u.header.name):K({uri:n}).then(p)}),[u,n]),Object(a.useEffect)((function(){p(null)}),[n]),u){var d=u.table,m=u.header,f=u.relatedArtists,g=u.grid;return r.a.createElement(Me,{className:"artist"},r.a.createElement(Ce,{header:m,player:i}),r.a.createElement("div",{className:"artist-top-related"},r.a.createElement(Se,{table:d,limit:"5",player:i,setUri:t}),r.a.createElement(De,{relatedArtists:f,setUri:t})),r.a.createElement(be,{grid:g,setUri:t,player:i}))}return r.a.createElement(Ne,null)};function We(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    grid-area : user;\n\n    .avatar {\n        margin-right: 10px;\n        img {\n            border-radius: 50%;\n            width: 28px;\n        }\n    }\n\n    .user {\n        font-size: 15px;\n        line-height: 25px;\n    }\n"]);return We=function(){return e},e}var He=E.a.div(We()),Ke=function(){var e=Object(a.useState)(null),n=Object(o.a)(e,2),t=n[0],i=n[1];return Object(a.useEffect)((function(){console.log(t),t||Z().then(i)}),[t]),t?r.a.createElement(He,{className:"user-widget"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:t.images[0].url,alt:"user-image"})),r.a.createElement("div",{className:"user"},t.display_name)):r.a.createElement("div",null)};function Ve(){var e=Object(x.a)(['\n    width:100%;\n    height:60px;\n    display: grid;\n    grid-template-columns: 14vw;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "search . . . user"\n      "additional-bar additional-bar additional-bar additional-bar additional-bar";\n    position: sticky;\n    top: 0;\n    align-items: center;\n    z-index: 30;\n\n    .search {\n        width: 176px;\n        height: 24px;\n        border-radius: 27px;\n        background: inherit;\n        border-style: none;\n        background-color: #f5f5f5;\n        margin: 16px 20px;\n        z-index: 999;\n    }\n\n    .user-widget {\n        padding: 16px 20px;\n        z-index: 999;\n    }\n\n    .additional-bar {\n        width: 100%;\n        opacity : 0;\n        grid-area: additional-bar;\n        height: 0;\n        border-bottom: 1px solid #333;\n        transition: .3s;\n        padding: 10px 32px;\n        font-weight: bold;\n    }\n\n    &.sticky {\n        animation: mushroom-bottom .4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n        .additional-bar {\n            opacity: 1;\n            background: rgba(0,0,0,1);\n            height: 70px;\n\n            h2 {\n                animation: fade-in .4s cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.4s both;\n            }\n        }\n    }\n\n']);return Ve=function(){return e},e}var $e=E.a.div(Ve()),Ye=function(e){var n=e.scroll,t=e.title,a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"search",type:"search"}),r.a.createElement(Ke,null),r.a.createElement("div",{className:"additional-bar"},r.a.createElement("h2",null,t)))};return n>=300?r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{className:"top-bar sticky",style:{backgroundColor:"rgba(0,0,0,"+100*n/250+"%)"}},a())):r.a.createElement($e,{className:"top-bar",style:{backgroundColor:"rgba(0,0,0,"+100*n/250+"%)"}},a())};function Ge(){var e=Object(x.a)(['\n    display: grid;\n    grid-template-columns: 14vw;\n    grid-template-rows: auto;\n    grid-template-areas:\n      "sidebar main main main main main"\n      "footer footer footer footer footer footer"\n      "devicesBar devicesBar devicesBar devicesBar devicesBar devicesBar";\n    overflow: hidden;\n    font-family: "Lato";\n    color: #F5F5F5;\n    overflow: none;\n\n    a {\n        color: #F5F5F5;\n    }\n\n    .github {\n        position: absolute;\n        top:0;\n        right:0;\n        z-index:1000;\n        width:120px;\n        img {\n            width: 120px;\n            height: 120px;\n        }\n    }\n\n    .search {\n        padding: 8px 69px;\n        input {\n            width: 176px;\n            height: 25px;\n            border-radius: 27px;\n        }\n    }\n\n\n    .menu-wrapper, .browser-wrapper {\n        position: relative;\n        overflow-x: hidden;\n        overflow-y: auto;\n        height: 92vh;\n        background-repeat: no-repeat;\n        background-attachment: local;\n\n        &::-webkit-scrollbar {\n            width: 1em;\n            background: hsla(0,0%,100%,.3);\n        }\n        &::-webkit-scrollbar-thumb {\n            min-height: 30px;\n            max-height: none;\n            background: hsla(0,0%,100%,.3);\n        }\n    }\n\n    .menu-wrapper {\n        grid-area: sidebar;\n        background: #000;\n        justify-content: stretch;\n        &::-webkit-scrollbar {\n            background: #000;\n        }\n    }\n\n    .browser-wrapper {\n        grid-area: main;\n        linear-gradient(0deg, #0c0c0c 0%, #0c0c0c 80%, #0c0c0c 100%)\n        .browser-inner-wrapper {\n            max-width: 100%;\n            margin-bottom: 1em;\n        }\n    }\n\n    .now-playing-wrapper {\n        position: relative;\n        width: 100%;\n        background-color: #282828;\n        grid-area: footer;\n    }\n\n    .devices-bar-wrapper {\n        grid-area: devicesBar;\n    }\n']);return Ge=function(){return e},e}var qe=E.a.div(Ge()),Qe=function(){var e=Object(a.useState)(null),n=Object(o.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(localStorage.getItem("lastUri")||"home"),s=Object(o.a)(c,2),l=s[0],u=s[1],p=Object(a.useState)(null),d=Object(o.a)(p,2),m=d[0],f=d[1],g=Object(a.useState)(0),h=Object(o.a)(g,2),b=h[0],y=h[1],v=Object(a.useState)(null),x=Object(o.a)(v,2),k=x[0],w=x[1];Object(a.useEffect)((function(){var e=document.createElement("script");e.src="https://sdk.scdn.co/spotify-player.js",e.async=!0,document.body.appendChild(e)}),[]),Object(a.useEffect)((function(){return u(l),localStorage.setItem("lastUri",l),-1===l.indexOf("playlist")&&-1===l.indexOf("album")&&-1===l.indexOf("artist")&&w(function(e){return{home:"Home"}[e]}(l)),function(){u(null)}}),[l]),Object(a.useEffect)((function(){window.onSpotifyWebPlaybackSDKReady=function(){i(H())},t&&(t.addListener("ready",(function(e){!function(e){console.log("Ready - Device ID - Localstorage",e),localStorage.setItem("device_id",e)}(e.device_id)})),t.addListener("player_state_changed",(function(e){e&&e.track_window?f(Object(L.a)(Object(L.a)({},e.track_window.current_track),e)):console.log(e)})),t.connect())}),[t]);return r.a.createElement(qe,{className:"main"},r.a.createElement("div",{className:"menu-wrapper"},r.a.createElement(re,{setUri:u,uri:l})),r.a.createElement("div",{className:"browser-wrapper",onScroll:function(e){return y(e.target.scrollTop)}},r.a.createElement(Ye,{scroll:b,title:k}),function(){if(l)return-1!==l.indexOf("home")?r.a.createElement(xe,{player:t,setUri:u}):-1!==l.indexOf("spotify:playlist")?r.a.createElement(Ie,{uri:l,player:t,setUri:u,setTopBar:w}):-1!==l.indexOf("spotify:album")?r.a.createElement(Ue,{uri:l,player:t,setUri:u,setTopBar:w}):-1!==l.indexOf("spotify:artist")?r.a.createElement(Je,{uri:l,player:t,setUri:u,setTopBar:w}):r.a.createElement("h3",null,l)}()),r.a.createElement("div",{className:"now-playing-wrapper"},r.a.createElement(fe,{currentTrack:m,player:t})))},Xe=function(){var e=Object(a.useState)(!1),n=Object(o.a)(e,2),t=n[0],i=n[1];Object(a.useEffect)((function(){p().access_token&&i(!0)}),[]);return t?r.a.createElement("div",{className:"app"},r.a.createElement(Qe,null)):r.a.createElement("div",{className:"app"},r.a.createElement(F,{onLogin:function(e){!function(e){var n=e.access_token,t=e.token_type,a=e.expires_in,r=(new Date).valueOf()+36e5;localStorage.setItem("access_token",n),localStorage.setItem("token_type",t),localStorage.setItem("expires_in",a),localStorage.setItem("expires_at",r),console.log("setsession")}(e),i(!!e.access_token)}}))};c.a.render(r.a.createElement(Xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.77e34175.chunk.js.map